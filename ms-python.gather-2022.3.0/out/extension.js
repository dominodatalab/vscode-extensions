(()=>{var e={2121:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var n=r(7648),o=r(725),i=new n.NoopContextManager,s=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY]?this._getContextManager():(o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY]=o.makeGetter(o.API_BACKWARDS_COMPATIBILITY_VERSION,e,i),e)},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t){return this._getContextManager().with(e,t)},e.prototype.bind=function(e,t){return void 0===t&&(t=this.active()),this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){var e,t;return null!==(t=null===(e=o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY])||void 0===e?void 0:e.call(o._global,o.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:i},e.prototype.disable=function(){this._getContextManager().disable(),delete o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY]},e}();t.ContextAPI=s},725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_BACKWARDS_COMPATIBILITY_VERSION=t.makeGetter=t._global=t.GLOBAL_TRACE_API_KEY=t.GLOBAL_PROPAGATION_API_KEY=t.GLOBAL_METRICS_API_KEY=t.GLOBAL_CONTEXT_MANAGER_API_KEY=void 0;var n=r(1245);t.GLOBAL_CONTEXT_MANAGER_API_KEY=Symbol.for("io.opentelemetry.js.api.context"),t.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics"),t.GLOBAL_PROPAGATION_API_KEY=Symbol.for("io.opentelemetry.js.api.propagation"),t.GLOBAL_TRACE_API_KEY=Symbol.for("io.opentelemetry.js.api.trace"),t._global=n._globalThis,t.makeGetter=function(e,t,r){return function(n){return n===e?t:r}},t.API_BACKWARDS_COMPATIBILITY_VERSION=0},2496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;var n=r(3111),o=r(725),i=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return o._global[o.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(o._global[o.GLOBAL_METRICS_API_KEY]=o.makeGetter(o.API_BACKWARDS_COMPATIBILITY_VERSION,e,n.NOOP_METER_PROVIDER),e)},e.prototype.getMeterProvider=function(){var e,t;return null!==(t=null===(e=o._global[o.GLOBAL_METRICS_API_KEY])||void 0===e?void 0:e.call(o._global,o.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:n.NOOP_METER_PROVIDER},e.prototype.getMeter=function(e,t){return this.getMeterProvider().getMeter(e,t)},e.prototype.disable=function(){delete o._global[o.GLOBAL_METRICS_API_KEY]},e}();t.MetricsAPI=i},655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var n=r(9869),o=r(7210),i=r(7196),s=r(2121),a=r(725),c=s.ContextAPI.getInstance(),u=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return a._global[a.GLOBAL_PROPAGATION_API_KEY]?this._getGlobalPropagator():(a._global[a.GLOBAL_PROPAGATION_API_KEY]=a.makeGetter(a.API_BACKWARDS_COMPATIBILITY_VERSION,e,o.NOOP_TEXT_MAP_PROPAGATOR),e)},e.prototype.inject=function(e,t,r){return void 0===t&&(t=i.defaultSetter),void 0===r&&(r=c.active()),this._getGlobalPropagator().inject(r,e,t)},e.prototype.extract=function(e,t,r){return void 0===t&&(t=n.defaultGetter),void 0===r&&(r=c.active()),this._getGlobalPropagator().extract(r,e,t)},e.prototype.disable=function(){delete a._global[a.GLOBAL_PROPAGATION_API_KEY]},e.prototype._getGlobalPropagator=function(){var e,t;return null!==(t=null===(e=a._global[a.GLOBAL_PROPAGATION_API_KEY])||void 0===e?void 0:e.call(a._global,a.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:o.NOOP_TEXT_MAP_PROPAGATOR},e}();t.PropagationAPI=u},7428:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var n=r(2830),o=r(5154),i=r(5922),s=r(725),a=function(){function e(){this._proxyTracerProvider=new o.ProxyTracerProvider,this.isSpanContextValid=i.isSpanContextValid}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){return s._global[s.GLOBAL_TRACE_API_KEY]||(this._proxyTracerProvider.setDelegate(e),s._global[s.GLOBAL_TRACE_API_KEY]=s.makeGetter(s.API_BACKWARDS_COMPATIBILITY_VERSION,this._proxyTracerProvider,n.NOOP_TRACER_PROVIDER)),this.getTracerProvider()},e.prototype.getTracerProvider=function(){var e,t;return null!==(t=null===(e=s._global[s.GLOBAL_TRACE_API_KEY])||void 0===e?void 0:e.call(s._global,s.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){delete s._global[s.GLOBAL_TRACE_API_KEY],this._proxyTracerProvider=new o.ProxyTracerProvider},e}();t.TraceAPI=a},791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3212:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7210:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_TEXT_MAP_PROPAGATOR=t.NoopTextMapPropagator=void 0;var r=function(){function e(){}return e.prototype.inject=function(e,t,r){},e.prototype.extract=function(e,t,r){return e},e}();t.NoopTextMapPropagator=r,t.NOOP_TEXT_MAP_PROPAGATOR=new r},7553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGetter=void 0,t.defaultGetter=function(e,t){return e[t]}},7196:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSetter=void 0,t.defaultSetter=function(e,t,r){e[t]=r}},5119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2349:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EntryTtl=void 0,(r=t.EntryTtl||(t.EntryTtl={}))[r.NO_PROPAGATION=0]="NO_PROPAGATION",r[r.UNLIMITED_PROPAGATION=-1]="UNLIMITED_PROPAGATION"},6563:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=t.metrics=t.trace=t.context=void 0,o(r(791),t),o(r(5540),t),o(r(3212),t),o(r(9869),t),o(r(7553),t),o(r(7210),t),o(r(7196),t),o(r(5119),t),o(r(2349),t),o(r(3823),t),o(r(5320),t),o(r(520),t),o(r(7315),t),o(r(8137),t),o(r(5136),t),o(r(3111),t),o(r(1654),t),o(r(1222),t),o(r(642),t),o(r(3609),t),o(r(7386),t),o(r(2442),t),o(r(7401),t),o(r(776),t),o(r(8777),t),o(r(2830),t),o(r(5698),t),o(r(5154),t),o(r(375),t),o(r(6345),t),o(r(7628),t),o(r(3519),t),o(r(6774),t),o(r(633),t),o(r(9393),t),o(r(5510),t),o(r(1066),t),o(r(4615),t),o(r(2679),t),o(r(1221),t);var i=r(5922);Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return i.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return i.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return i.INVALID_SPAN_CONTEXT}});var s=r(7648);Object.defineProperty(t,"Context",{enumerable:!0,get:function(){return s.Context}});var a=r(2121);t.context=a.ContextAPI.getInstance();var c=r(7428);t.trace=c.TraceAPI.getInstance();var u=r(2496);t.metrics=u.MetricsAPI.getInstance();var l=r(655);t.propagation=l.PropagationAPI.getInstance(),t.default={trace:t.trace,metrics:t.metrics,context:t.context,propagation:t.propagation}},3823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8137:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,(r=t.ValueType||(t.ValueType={}))[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"},5136:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_BATCH_OBSERVER_METRIC=t.NOOP_SUM_OBSERVER_METRIC=t.NOOP_UP_DOWN_SUM_OBSERVER_METRIC=t.NOOP_VALUE_OBSERVER_METRIC=t.NOOP_BOUND_BASE_OBSERVER=t.NOOP_VALUE_RECORDER_METRIC=t.NOOP_BOUND_VALUE_RECORDER=t.NOOP_COUNTER_METRIC=t.NOOP_BOUND_COUNTER=t.NOOP_METER=t.NoopBoundBaseObserver=t.NoopBoundValueRecorder=t.NoopBoundCounter=t.NoopBatchObserverMetric=t.NoopBaseObserverMetric=t.NoopValueRecorderMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;var o=function(){function e(){}return e.prototype.createValueRecorder=function(e,r){return t.NOOP_VALUE_RECORDER_METRIC},e.prototype.createCounter=function(e,r){return t.NOOP_COUNTER_METRIC},e.prototype.createUpDownCounter=function(e,r){return t.NOOP_COUNTER_METRIC},e.prototype.createValueObserver=function(e,r,n){return t.NOOP_VALUE_OBSERVER_METRIC},e.prototype.createBatchObserver=function(e,r){return t.NOOP_BATCH_OBSERVER_METRIC},e}();t.NoopMeter=o;var i=function(){function e(e){this._instrument=e}return e.prototype.bind=function(e){return this._instrument},e.prototype.unbind=function(e){},e.prototype.clear=function(){},e}();t.NoopMetric=i;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.add=function(e,t){this.bind(t).add(e)},t}(i);t.NoopCounterMetric=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.record=function(e,t){this.bind(t).record(e)},t}(i);t.NoopValueRecorderMetric=a;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.observation=function(){return{observer:this,value:0}},t}(i);t.NoopBaseObserverMetric=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.NoopBatchObserverMetric=u;var l=function(){function e(){}return e.prototype.add=function(e){},e}();t.NoopBoundCounter=l;var p=function(){function e(){}return e.prototype.record=function(e,t,r){},e}();t.NoopBoundValueRecorder=p;var h=function(){function e(){}return e.prototype.update=function(e){},e}();t.NoopBoundBaseObserver=h,t.NOOP_METER=new o,t.NOOP_BOUND_COUNTER=new l,t.NOOP_COUNTER_METRIC=new s(t.NOOP_BOUND_COUNTER),t.NOOP_BOUND_VALUE_RECORDER=new p,t.NOOP_VALUE_RECORDER_METRIC=new a(t.NOOP_BOUND_VALUE_RECORDER),t.NOOP_BOUND_BASE_OBSERVER=new h,t.NOOP_VALUE_OBSERVER_METRIC=new c(t.NOOP_BOUND_BASE_OBSERVER),t.NOOP_UP_DOWN_SUM_OBSERVER_METRIC=new c(t.NOOP_BOUND_BASE_OBSERVER),t.NOOP_SUM_OBSERVER_METRIC=new c(t.NOOP_BOUND_BASE_OBSERVER),t.NOOP_BATCH_OBSERVER_METRIC=new u},3111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;var n=r(5136),o=function(){function e(){}return e.prototype.getMeter=function(e,t){return n.NOOP_METER},e}();t.NoopMeterProvider=o,t.NOOP_METER_PROVIDER=new o},1654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1245:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(488),t)},6362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},488:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6362),t)},3609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_SPAN=t.NoopSpan=void 0;var n=r(5922),o=function(){function e(e){void 0===e&&(e=n.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.context=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();t.NoopSpan=o,t.NOOP_SPAN=new o},8777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_TRACER=t.NoopTracer=void 0;var n=r(776),o=function(){function e(){}return e.prototype.getCurrentSpan=function(){return n.NOOP_SPAN},e.prototype.startSpan=function(e,t){return n.NOOP_SPAN},e.prototype.withSpan=function(e,t){return t()},e.prototype.bind=function(e,t){return e},e}();t.NoopTracer=o,t.NOOP_TRACER=new o},2830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_TRACER_PROVIDER=t.NoopTracerProvider=void 0;var n=r(8777),o=function(){function e(){}return e.prototype.getTracer=function(e,t){return n.NOOP_TRACER},e}();t.NoopTracerProvider=o,t.NOOP_TRACER_PROVIDER=new o},5698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;var n=r(8777),o=function(){function e(e,t,r){this._provider=e,this.name=t,this.version=r}return e.prototype.getCurrentSpan=function(){return this._getTracer().getCurrentSpan()},e.prototype.startSpan=function(e,t){return this._getTracer().startSpan(e,t)},e.prototype.withSpan=function(e,t){return this._getTracer().withSpan(e,t)},e.prototype.bind=function(e,t){return this._getTracer().bind(e,t)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):n.NOOP_TRACER},e}();t.ProxyTracer=o},5154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;var n=r(5698),o=r(2830),i=function(){function e(){}return e.prototype.getTracer=function(e,t){var r;return null!==(r=this.getDelegateTracer(e,t))&&void 0!==r?r:new n.ProxyTracer(this,e,t)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:o.NOOP_TRACER_PROVIDER},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t)},e}();t.ProxyTracerProvider=i},375:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6345:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,(r=t.SamplingDecision||(t.SamplingDecision={}))[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"},633:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2442:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6774:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3519:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},5922:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;var n=r(1066),o=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function s(e){return o.test(e)&&e!==t.INVALID_TRACEID}function a(e){return i.test(e)&&e!==t.INVALID_SPANID}t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE},t.isValidTraceId=s,t.isValidSpanId=a,t.isSpanContextValid=function(e){return s(e.traceId)&&a(e.spanId)}},9393:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CanonicalCode=void 0,(r=t.CanonicalCode||(t.CanonicalCode={}))[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED"},1066:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},4615:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2679:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var n=r(817),o=function(){function e(){}return e.prototype.active=function(){return n.Context.ROOT_CONTEXT},e.prototype.with=function(e,t){return t()},e.prototype.bind=function(e,t){return e},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();t.NoopContextManager=o},817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=function(){function e(e){this._currentContext=e?new Map(e):new Map}return e.createKey=function(e){return Symbol.for(e)},e.prototype.getValue=function(e){return this._currentContext.get(e)},e.prototype.setValue=function(t,r){var n=new e(this._currentContext);return n._currentContext.set(t,r),n},e.prototype.deleteValue=function(t){var r=new e(this._currentContext);return r._currentContext.delete(t),r},e.ROOT_CONTEXT=new e,e.TODO=e.ROOT_CONTEXT,e}();t.Context=r},7648:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6550),t),o(r(817),t),o(r(8191),t)},6550:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6637:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExportResult=void 0,(r=t.ExportResult||(t.ExportResult={}))[r.SUCCESS=0]="SUCCESS",r[r.FAILED_NOT_RETRYABLE=1]="FAILED_NOT_RETRYABLE",r[r.FAILED_RETRYABLE=2]="FAILED_RETRYABLE"},5671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;const n=r(4019),o=r(2336);t.ConsoleLogger=class{constructor(e=o.getEnv().OTEL_LOG_LEVEL){e>=n.LogLevel.DEBUG&&(this.debug=(...e)=>{console.debug(...e)}),e>=n.LogLevel.INFO&&(this.info=(...e)=>{console.info(...e)}),e>=n.LogLevel.WARN&&(this.warn=(...e)=>{console.warn(...e)}),e>=n.LogLevel.ERROR&&(this.error=(...e)=>{console.error(...e)})}debug(e,...t){}error(e,...t){}warn(e,...t){}info(e,...t){}}},8719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopLogger=void 0,t.NoopLogger=class{debug(e,...t){}error(e,...t){}warn(e,...t){}info(e,...t){}}},9953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;const n=r(2336),o=Math.pow(10,9);function i(e){const t=e/1e3,r=Math.trunc(t);return[r,Number((t-r).toFixed(9))*o]}function s(){let e=n.otperformance.timeOrigin;if("number"!=typeof e){const t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function a(e){const t=i(s()),r=i("number"==typeof e?e:n.otperformance.now());let a=t[0]+r[0],c=t[1]+r[1];return c>o&&(c-=o,a+=1),[a,c]}function c(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.hrTime=a,t.timeInputToHrTime=function(e){if(c(e))return e;if("number"==typeof e)return e<s()?a(e):i(e);if(e instanceof Date)return[e.getTime(),0];throw TypeError("Invalid input type")},t.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=o),[r,n]},t.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},t.hrTimeToNanoseconds=function(e){return e[0]*o+e[1]},t.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},t.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},t.isTimeInputHrTime=c,t.isTimeInput=function(e){return c(e)||"number"==typeof e||e instanceof Date}},4019:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.ERROR=0]="ERROR",r[r.WARN=1]="WARN",r[r.INFO=2]="INFO",r[r.DEBUG=3]="DEBUG"},1417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstrumentationSuppressed=t.unsuppressInstrumentation=t.suppressInstrumentation=t.getParentSpanContext=t.setExtractedSpanContext=t.getExtractedSpanContext=t.setActiveSpan=t.getActiveSpan=t.SUPPRESS_INSTRUMENTATION_KEY=t.ACTIVE_SPAN_KEY=void 0;const n=r(7648);t.ACTIVE_SPAN_KEY=n.Context.createKey("OpenTelemetry Context Key ACTIVE_SPAN");const o=n.Context.createKey("OpenTelemetry Context Key EXTRACTED_SPAN_CONTEXT");function i(e){return e.getValue(t.ACTIVE_SPAN_KEY)||void 0}function s(e){return e.getValue(o)||void 0}t.SUPPRESS_INSTRUMENTATION_KEY=n.Context.createKey("OpenTelemetry Context Key SUPPRESS_INSTRUMENTATION"),t.getActiveSpan=i,t.setActiveSpan=function(e,r){return e.setValue(t.ACTIVE_SPAN_KEY,r)},t.getExtractedSpanContext=s,t.setExtractedSpanContext=function(e,t){return e.setValue(o,t)},t.getParentSpanContext=function(e){var t;return(null===(t=i(e))||void 0===t?void 0:t.context())||s(e)},t.suppressInstrumentation=function(e){return e.setValue(t.SUPPRESS_INSTRUMENTATION_KEY,!0)},t.unsuppressInstrumentation=function(e){return e.setValue(t.SUPPRESS_INSTRUMENTATION_KEY,!1)},t.isInstrumentationSuppressed=function(e){return Boolean(e.getValue(t.SUPPRESS_INSTRUMENTATION_KEY))}},6347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.B3Propagator=t.DEBUG_FLAG_KEY=t.PARENT_SPAN_ID_KEY=t.X_B3_FLAGS=t.X_B3_PARENT_SPAN_ID=t.X_B3_SAMPLED=t.X_B3_SPAN_ID=t.X_B3_TRACE_ID=void 0;const n=r(6563),o=r(1417);t.X_B3_TRACE_ID="x-b3-traceid",t.X_B3_SPAN_ID="x-b3-spanid",t.X_B3_SAMPLED="x-b3-sampled",t.X_B3_PARENT_SPAN_ID="x-b3-parentspanid",t.X_B3_FLAGS="x-b3-flags",t.PARENT_SPAN_ID_KEY=n.Context.createKey("OpenTelemetry Context Key B3 Parent Span Id"),t.DEBUG_FLAG_KEY=n.Context.createKey("OpenTelemetry Context Key B3 Debug Flag");const i=/^([0-9a-f]{16}){1,2}$/i,s=/^[0-9a-f]{16}$/i,a=/^0+$/i,c=new Set([!0,"true","True","1",1]),u=new Set([!1,"false","False","0",0]);function l(e){return i.test(e)&&!a.test(e)}function p(e){return s.test(e)&&!a.test(e)}function h(e){return void 0===e||p(e)}function f(e,t,r){return n=t(e,r),Array.isArray(n)?n[0]:n;var n}function d(e,r){return"1"===f(e,r,t.X_B3_FLAGS)?"1":void 0}t.B3Propagator=class{inject(e,r,i){const s=o.getParentSpanContext(e);if(!s)return;const a=e.getValue(t.PARENT_SPAN_ID_KEY);if(l(s.traceId)&&p(s.spanId)&&h(a)){const o=e.getValue(t.DEBUG_FLAG_KEY);i(r,t.X_B3_TRACE_ID,s.traceId),i(r,t.X_B3_SPAN_ID,s.spanId),a&&i(r,t.X_B3_PARENT_SPAN_ID,a),"1"===o?i(r,t.X_B3_FLAGS,o):void 0!==s.traceFlags&&i(r,t.X_B3_SAMPLED,(n.TraceFlags.SAMPLED&s.traceFlags)===n.TraceFlags.SAMPLED?"1":"0")}}extract(e,r,i){const s=function(e,r){const n=f(e,r,t.X_B3_TRACE_ID);return"string"==typeof n?n.padStart(32,"0"):""}(r,i),a=function(e,r){const n=f(e,r,t.X_B3_SPAN_ID);return"string"==typeof n?n:""}(r,i),v=function(e,r){const n=f(e,r,t.X_B3_PARENT_SPAN_ID);if("string"==typeof n)return n}(r,i),m=function(e,r){const o=f(e,r,t.X_B3_SAMPLED);return"1"===d(e,r)||c.has(o)?n.TraceFlags.SAMPLED:void 0===o||u.has(o)?n.TraceFlags.NONE:void 0}(r,i),y=d(r,i);return l(s)&&p(a)&&h(v)&&((_=m)===n.TraceFlags.SAMPLED||_===n.TraceFlags.NONE)?(e=(e=e.setValue(t.PARENT_SPAN_ID_KEY,v)).setValue(t.DEBUG_FLAG_KEY,y),o.setExtractedSpanContext(e,{traceId:s,spanId:a,isRemote:!0,traceFlags:m})):e;var _}}},1323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpTraceContext=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;const n=r(6563),o=r(7187),i=r(1417);t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";const s=/^(?!ff)[\da-f]{2}$/,a=/^(?![0]{32})[\da-f]{32}$/,c=/^(?![0]{16})[\da-f]{16}$/,u=/^[\da-f]{2}$/;function l(e){const t=e.trim().split("-");if("00"===t[0]&&4!==t.length)return null;const[r,n,o,i]=t;return s.test(r)&&a.test(n)&&c.test(o)&&u.test(i)?{traceId:n,spanId:o,traceFlags:parseInt(i,16)}:null}t.parseTraceParent=l,t.HttpTraceContext=class{inject(e,r,o){const s=i.getParentSpanContext(e);if(!s)return;const a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||n.TraceFlags.NONE).toString(16)}`;o(r,t.TRACE_PARENT_HEADER,a),s.traceState&&o(r,t.TRACE_STATE_HEADER,s.traceState.serialize())}extract(e,r,n){const s=n(r,t.TRACE_PARENT_HEADER);if(!s)return e;const a=Array.isArray(s)?s[0]:s;if("string"!=typeof a)return e;const c=l(a);if(!c)return e;c.isRemote=!0;const u=n(r,t.TRACE_STATE_HEADER);if(u){const e=Array.isArray(u)?u.join(","):u;c.traceState=new o.TraceState("string"==typeof e?e:void 0)}return i.setExtractedSpanContext(e,c)}}},5664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositePropagator=void 0;const n=r(8719);t.CompositePropagator=class{constructor(e={}){var t,r;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._logger=null!==(r=e.logger)&&void 0!==r?r:new n.NoopLogger}inject(e,t,r){for(const n of this._propagators)try{n.inject(e,t,r)}catch(e){this._logger.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce(((e,n)=>{try{return n.extract(e,t,r)}catch(e){this._logger.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}return e}),e)}}},7588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCorrelationContext=t.getCorrelationContext=void 0;const n=r(7648).Context.createKey("OpenTelemetry Distributed Contexts Key");t.getCorrelationContext=function(e){return e.getValue(n)||void 0},t.setCorrelationContext=function(e,t){return e.setValue(n,t)}},5964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpCorrelationContext=t.MAX_TOTAL_LENGTH=t.MAX_PER_NAME_VALUE_PAIRS=t.MAX_NAME_VALUE_PAIRS=t.CORRELATION_CONTEXT_HEADER=void 0;const n=r(3090);t.CORRELATION_CONTEXT_HEADER="otcorrelations",t.MAX_NAME_VALUE_PAIRS=180,t.MAX_PER_NAME_VALUE_PAIRS=4096,t.MAX_TOTAL_LENGTH=8192,t.HttpCorrelationContext=class{inject(e,r,o){const i=n.getCorrelationContext(e);if(!i)return;const s=this._getKeyPairs(i).filter((e=>e.length<=t.MAX_PER_NAME_VALUE_PAIRS)).slice(0,t.MAX_NAME_VALUE_PAIRS),a=this._serializeKeyPairs(s);a.length>0&&o(r,t.CORRELATION_CONTEXT_HEADER,a)}_serializeKeyPairs(e){return e.reduce(((e,r)=>{const n=`${e}${""!=e?",":""}${r}`;return n.length>t.MAX_TOTAL_LENGTH?e:n}),"")}_getKeyPairs(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t].value)}`))}extract(e,r,o){const i=o(r,t.CORRELATION_CONTEXT_HEADER);if(!i)return e;const s={};return 0==i.length?e:(i.split(",").forEach((e=>{const t=this._parsePairKeyValue(e);t&&(s[t.key]={value:t.value})})),0===Object.entries(s).length?e:n.setCorrelationContext(e,s))}_parsePairKeyValue(e){const t=e.split(";");if(t.length<=0)return;const r=t.shift();if(!r)return;const n=r.split("=");if(2!=n.length)return;const o=decodeURIComponent(n[0].trim());let i=decodeURIComponent(n[1].trim());return t.length>0&&(i=i+";"+t.join(";")),{key:o,value:i}}}},6584:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5671),t),o(r(8719),t),o(r(9953),t),o(r(4019),t),o(r(6637),t),o(r(2114),t),o(r(1417),t),o(r(6347),t),o(r(5664),t),o(r(1323),t),o(r(7588),t),o(r(3090),t),o(r(5964),t),o(r(2336),t),o(r(2135),t),o(r(805),t),o(r(2337),t),o(r(2523),t),o(r(4413),t),o(r(7187),t),o(r(5647),t),o(r(614),t),o(r(5527),t)},5559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;const r=new RegExp("^(?:[a-z][_0-9a-z-*/]{0,255}|[a-z0-9][_0-9a-z-*/]{0,240}@[a-z][_0-9a-z-*/]{0,13})$"),n=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return r.test(e)},t.validateValue=function(e){return n.test(e)&&!o.test(e)}},8950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAbstractPlugin=void 0,t.BaseAbstractPlugin=class{constructor(e,t){this._tracerName=e,this._tracerVersion=t}disable(){this.unpatch()}}},2336:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(8368),t)},2576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePlugin=void 0;const n=r(1249),o=r(1017),i=r(8950);class s extends i.BaseAbstractPlugin{enable(e,t,r,n){return this._moduleExports=e,this._tracer=t.getTracer(this._tracerName,this._tracerVersion),this._logger=r,this._internalFilesExports=this._loadInternalFilesExports(),n&&(this._config=n),this.patch()}disable(){this.unpatch()}_loadInternalFilesExports(){if(!this._internalFilesList)return{};if(!this.version||!this.moduleName||!this._basedir)return this._logger.debug("loadInternalFiles failed because one of the required fields was missing: moduleName=%s, version=%s, basedir=%s",this.moduleName,this.version,this._basedir),{};const e={};return this._logger.debug("loadInternalFiles %o",this._internalFilesList),Object.keys(this._internalFilesList).forEach((t=>{this._loadInternalModule(t,e)})),0===Object.keys(e).length&&this._logger.debug("No internal files could be loaded for %s@%s",this.moduleName,this.version),e}_loadInternalModule(e,t){n.satisfies(this.version,e)&&(Object.keys(t).length>0&&this._logger.warn("Plugin for %s@%s, has overlap version range (%s) for internal files: %o",this.moduleName,this.version,e,this._internalFilesList),this._requireInternalFiles(this._internalFilesList[e],this._basedir,t))}_requireInternalFiles(e,t,n){e&&Object.keys(e).forEach((i=>{try{this._logger.debug("loading File %s",e[i]),n[i]=r(4429)(o.join(t,e[i]))}catch(r){this._logger.error("Could not load internal file %s of module %s. Error: %s",o.join(t,e[i]),this.moduleName,r.message)}}))}}t.BasePlugin=s},433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomIdGenerator=void 0,t.RandomIdGenerator=class{constructor(){this.generateTraceId=n(16),this.generateSpanId=n(8)}};const r=Buffer.allocUnsafe(16);function n(e){return function(){for(let t=0;t<e/4;t++)r.writeUInt32BE(Math.random()*2**32>>>0,4*t);for(let t=0;t<e&&!(r[t]>0);t++)t===e-1&&(r[e-1]=1);return r.toString("hex",0,e)}}},3576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._invokeGlobalShutdown=t.notifyOnGlobalShutdown=void 0,t.notifyOnGlobalShutdown=function(e){return process.once("SIGTERM",e),function(){process.removeListener("SIGTERM",e)}},t._invokeGlobalShutdown=function(){process.kill(process.pid,"SIGTERM")}},8393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=void 0;const n=r(491);t.getEnv=function(){const e=n.parseEnvironment(process.env);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}},3032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0,t.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}},8368:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2576),t),o(r(8393),t),o(r(3032),t),o(r(433),t),o(r(9550),t),o(r(845),t),o(r(6852),t),o(r(3576),t)},9550:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=void 0;const n=r(4074);t.otperformance=n.performance},845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_INFO=void 0;const n=r(2114);t.SDK_INFO={NAME:"opentelemetry",RUNTIME:"node",LANGUAGE:"nodejs",VERSION:n.VERSION}},6852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=void 0,t.unrefTimer=function(e){e.unref()}},4429:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4429,e.exports=t},5647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoRecordingSpan=void 0;const n=r(6563);class o extends n.NoopSpan{constructor(e){super(e),this._context=e||n.INVALID_SPAN_CONTEXT}context(){return this._context}}t.NoRecordingSpan=o},7187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceState=void 0;const n=r(5559);t.TraceState=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){this._internalState.has(e)&&this._internalState.delete(e),this._internalState.set(e,t)}unset(e){this._internalState.delete(e)}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),o=r.indexOf("=");if(-1!==o){const i=r.slice(0,o),s=r.slice(o+1,t.length);n.validateKey(i)&&n.validateValue(s)&&e.set(i,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}}},805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOffSampler=void 0;const n=r(6563);t.AlwaysOffSampler=class{shouldSample(){return{decision:n.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}},2337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOnSampler=void 0;const n=r(6563);t.AlwaysOnSampler=class{shouldSample(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}},2523:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentOrElseSampler=void 0;const n=r(6563);t.ParentOrElseSampler=class{constructor(e){this._delegateSampler=e}shouldSample(e,t,r,o,i,s){return e?{decision:(n.TraceFlags.SAMPLED&e.traceFlags)===n.TraceFlags.SAMPLED?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}:this._delegateSampler.shouldSample(e,t,r,o,i,s)}toString(){return`ParentOrElse{${this._delegateSampler.toString()}}`}}},4413:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProbabilitySampler=void 0;const n=r(6563);t.ProbabilitySampler=class{constructor(e=0){this._probability=e,this._probability=this._normalize(e)}shouldSample(e){return e?{decision:(n.TraceFlags.SAMPLED&e.traceFlags)===n.TraceFlags.SAMPLED?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}:{decision:Math.random()<this._probability?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}}toString(){return`ProbabilitySampler{${this._probability}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}}},491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvironment=t.DEFAULT_ENVIRONMENT=void 0;const n=r(4019),o=["OTEL_SAMPLING_PROBABILITY"];function i(e,t,r,n=-1/0,o=1/0){if(void 0!==r[e]){const i=Number(r[e]);!isNaN(i)&&i>=n&&i<=o&&(t[e]=i)}}function s(e,t,r){const o=r[e];switch("string"==typeof o?o.toUpperCase():o){case"DEBUG":t[e]=n.LogLevel.DEBUG;break;case"INFO":t[e]=n.LogLevel.INFO;break;case"WARN":t[e]=n.LogLevel.WARN;break;case"ERROR":t[e]=n.LogLevel.ERROR}}t.DEFAULT_ENVIRONMENT={OTEL_NO_PATCH_MODULES:"",OTEL_LOG_LEVEL:n.LogLevel.INFO,OTEL_SAMPLING_PROBABILITY:1},t.parseEnvironment=function(e){const r={};for(const n in t.DEFAULT_ENVIRONMENT){const t=n;switch(t){case"OTEL_SAMPLING_PROBABILITY":i(t,r,e,0,1);break;case"OTEL_LOG_LEVEL":s(t,r,e);break;default:o.indexOf(t)>=0?i(t,r,e):void 0!==e[t]&&(r[t]=e[t])}}return r}},614:(e,t)=>{"use strict";function r(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlIgnored=t.urlMatches=void 0,t.urlMatches=r,t.isUrlIgnored=function(e,t){if(!t)return!1;for(const n of t)if(r(e,n))return!0;return!1}},5527:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=void 0,t.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}},2114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.11.0"},7297:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;const n=r(6584),o=r(9670);class i{constructor(e){this.attributes=e}static empty(){return i.EMPTY}static createTelemetrySDKResource(){return new i({[o.TELEMETRY_SDK_RESOURCE.LANGUAGE]:n.SDK_INFO.LANGUAGE,[o.TELEMETRY_SDK_RESOURCE.NAME]:n.SDK_INFO.NAME,[o.TELEMETRY_SDK_RESOURCE.VERSION]:n.SDK_INFO.VERSION})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;const t=Object.assign({},e.attributes,this.attributes);return new i(t)}}t.Resource=i,i.EMPTY=new i({})},8787:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICE_RESOURCE=t.TELEMETRY_SDK_RESOURCE=t.K8S_RESOURCE=t.HOST_RESOURCE=t.CONTAINER_RESOURCE=t.CLOUD_RESOURCE=void 0,t.CLOUD_RESOURCE={PROVIDER:"cloud.provider",ACCOUNT_ID:"cloud.account.id",REGION:"cloud.region",ZONE:"cloud.zone"},t.CONTAINER_RESOURCE={NAME:"container.name",IMAGE_NAME:"container.image.name",IMAGE_TAG:"container.image.tag"},t.HOST_RESOURCE={HOSTNAME:"host.hostname",ID:"host.id",NAME:"host.name",TYPE:"host.type",IMAGE_NAME:"host.image.name",IMAGE_ID:"host.image.id",IMAGE_VERSION:"host.image.version"},t.K8S_RESOURCE={CLUSTER_NAME:"k8s.cluster.name",NAMESPACE_NAME:"k8s.namespace.name",POD_NAME:"k8s.pod.name",DEPLOYMENT_NAME:"k8s.deployment.name"},t.TELEMETRY_SDK_RESOURCE={NAME:"telemetry.sdk.name",LANGUAGE:"telemetry.sdk.language",VERSION:"telemetry.sdk.version"},t.SERVICE_RESOURCE={NAME:"service.name",NAMESPACE:"service.namespace",INSTANCE_ID:"service.instance.id",VERSION:"service.version"}},9390:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(7297),t),o(r(1783),t),o(r(9670),t),o(r(3376),t),o(r(8787),t)},1783:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6392),t)},5100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectResources=void 0;const n=r(7297),o=r(3837),i=r(6584);t.detectResources=async(e={})=>{const t=Object.assign({logger:new i.NoopLogger},e),r=await Promise.all((t.detectors||[]).map((async r=>{var o,i;try{const n=await r.detect(t);return null===(o=e.logger)||void 0===o||o.debug(`${r.constructor.name} found resource.`,n),n}catch(t){return null===(i=e.logger)||void 0===i||i.debug(`${r.constructor.name} failed: ${t.message}`),n.Resource.empty()}})));return e.logger&&s(e.logger,r),r.reduce(((e,t)=>e.merge(t)),n.Resource.createTelemetrySDKResource())};const s=(e,t)=>{t.forEach((t=>{if(Object.keys(t.attributes).length>0){const r=o.inspect(t.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});e.debug(r)}}))}},6861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.envDetector=void 0;const n=r(9390);t.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){try{const t=process.env.OTEL_RESOURCE_ATTRIBUTES;if(!t)return e.logger.debug('EnvDetector failed: Environment variable "OTEL_RESOURCE_ATTRIBUTES" is missing.'),n.Resource.empty();const r=this._parseResourceAttributes(t);return new n.Resource(r)}catch(t){return e.logger.debug(`EnvDetector failed: ${t.message}`),n.Resource.empty()}}_parseResourceAttributes(e){if(!e)return{};const t={},r=e.split(this._COMMA_SEPARATOR,-1);for(const e of r){const r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,o]=r;if(n=n.trim(),o=o.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(o))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=o}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){const r=e.charAt(t);if(r<=" "||r>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}},2934:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6861),t)},6392:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5100),t),o(r(2934),t)},3376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2184:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(5220),t)},2145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatabaseAttribute=void 0,t.DatabaseAttribute={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_TYPE:"db.type",DB_INSTANCE:"db.instance",DB_URL:"db.url"}},8827:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEventName=t.ExceptionAttribute=void 0,t.ExceptionAttribute={MESSAGE:"exception.message",STACKTRACE:"exception.stacktrace",TYPE:"exception.type"},t.ExceptionEventName="exception"},3116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralAttribute=void 0,t.GeneralAttribute={NET_PEER_IP:"net.peer.ip",NET_PEER_ADDRESS:"net.peer.address",NET_PEER_HOSTNAME:"net.peer.host",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_PEER_IPV4:"net.peer.ipv4",NET_PEER_IPV6:"net.peer.ipv6",NET_PEER_SERVICE:"net.peer.service",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_TRANSPORT:"net.transport",IP_TCP:"IP.TCP",IP_UDP:"IP.UDP",INPROC:"inproc"}},1792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpAttribute=void 0,t.HttpAttribute={HTTP_HOST:"http.host",HTTP_METHOD:"http.method",HTTP_TARGET:"http.target",HTTP_ROUTE:"http.route",HTTP_URL:"http.url",HTTP_STATUS_CODE:"http.status_code",HTTP_STATUS_TEXT:"http.status_text",HTTP_FLAVOR:"http.flavor",HTTP_SERVER_NAME:"http.server_name",HTTP_CLIENT_IP:"http.client_ip",HTTP_SCHEME:"http.scheme",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_ERROR_NAME:"http.error_name",HTTP_ERROR_MESSAGE:"http.error_message",HTTP_USER_AGENT:"http.user_agent"}},5220:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(2145),t),o(r(8827),t),o(r(3116),t),o(r(1792),t),o(r(5108),t),o(r(9908),t)},5108:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OperatingSystemValues=t.OperatingSystem=void 0,t.OperatingSystem={TYPE:"os.type",DESCRIPTION:"os.description"},t.OperatingSystemValues={WINDOWS:"WINDOWS",LINUX:"LINUX",DARWIN:"DARWIN",FREEBSD:"FREEBSD",NETBSD:"NETBSD",OPENBSD:"OPENBSD",DRAGONFLYBSD:"DRAGONFLYBSD",HPUX:"HPUX",AIX:"AIX",SOLARIS:"SOLARIS",ZOS:"ZOS"}},9908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcAttribute=void 0,t.RpcAttribute={RPC_SERVICE:"rpc.service",GRPC_KIND:"grpc.kind",GRPC_METHOD:"grpc.method",GRPC_STATUS_CODE:"grpc.status_code",GRPC_ERROR_NAME:"grpc.error_name",GRPC_ERROR_MESSAGE:"grpc.error_message"}},3076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTracerProvider=void 0;const n=r(6563),o=r(6584),i=r(2745),s=r(3977),a=r(3060),c=r(3584),u=r(9390);t.BasicTracerProvider=class{constructor(e=s.DEFAULT_CONFIG){var t,r;this._registeredSpanProcessors=[],this._tracers=new Map,this.activeSpanProcessor=new c.NoopSpanProcessor,this.logger=null!==(t=e.logger)&&void 0!==t?t:new o.ConsoleLogger(e.logLevel),this.resource=null!==(r=e.resource)&&void 0!==r?r:u.Resource.createTelemetrySDKResource(),this._config=Object.assign({},e,{logger:this.logger,resource:this.resource}),this._config.gracefulShutdown&&(this._cleanNotifyOnGlobalShutdown=o.notifyOnGlobalShutdown(this._shutdownActiveProcessor.bind(this)))}getTracer(e,t="*",r){const n=`${e}@${t}`;return this._tracers.has(n)||this._tracers.set(n,new i.Tracer({name:e,version:t},r||this._config,this)),this._tracers.get(n)}addSpanProcessor(e){this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new a.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=new o.CompositePropagator({propagators:[new o.HttpCorrelationContext,new o.HttpTraceContext]})),e.contextManager&&n.context.setGlobalContextManager(e.contextManager),e.propagator&&n.propagation.setGlobalPropagator(e.propagator)}shutdown(e=(()=>{})){this.activeSpanProcessor.shutdown(e),this._cleanNotifyOnGlobalShutdown&&(this._cleanNotifyOnGlobalShutdown(),this._cleanNotifyOnGlobalShutdown=void 0)}_shutdownActiveProcessor(){this.activeSpanProcessor.shutdown()}}},3060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSpanProcessor=void 0,t.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(e=(()=>{})){let t=0;const r=this._spanProcessors.length;for(const n of this._spanProcessors)n.forceFlush((()=>{++t===r&&e()}))}onStart(e){for(const t of this._spanProcessors)t.onStart(e)}onEnd(e){for(const t of this._spanProcessors)t.onEnd(e)}shutdown(e=(()=>{})){let t=0;const r=this._spanProcessors.length;for(const n of this._spanProcessors)n.shutdown((()=>{++t===r&&e()}))}}},3584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpanProcessor=void 0,t.NoopSpanProcessor=class{onStart(e){}onEnd(e){}shutdown(e=(()=>{})){setTimeout(e,0)}forceFlush(e=(()=>{})){setTimeout(e,0)}}},7102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;const n=r(6563),o=r(6584),i=r(2184);t.Span=class{constructor(e,t,r,i,s,a=[],c=o.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:n.CanonicalCode.OK},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=t,this.spanContext=r,this.parentSpanId=s,this.kind=i,this.links=a,this.startTime=o.timeInputToHrTime(c),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._logger=e.logger,this._traceParams=e.getActiveTraceParams(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this)}context(){return this.spanContext}setAttribute(e,t){if(this._isSpanEnded())return this;if(Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan){const e=Object.keys(this.attributes).shift();e&&(this._logger.warn(`Dropping extra attributes : ${e}`),delete this.attributes[e])}return this.attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach((t=>{this.setAttribute(t,e[t])})),this}addEvent(e,t,r){return this._isSpanEnded()||(this.events.length>=this._traceParams.numberOfEventsPerSpan&&(this._logger.warn("Dropping extra events."),this.events.shift()),o.isTimeInput(t)&&(void 0===r&&(r=t),t=void 0),void 0===r&&(r=o.hrTime()),this.events.push({name:e,attributes:t,time:o.timeInputToHrTime(r)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=o.hrTime()){this._isSpanEnded()?this._logger.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=o.timeInputToHrTime(e),this._duration=o.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&this._logger.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!0}recordException(e,t=o.hrTime()){const r={};"string"==typeof e?r[i.ExceptionAttribute.MESSAGE]=e:e&&(e.code?r[i.ExceptionAttribute.TYPE]=e.code:e.name&&(r[i.ExceptionAttribute.TYPE]=e.name),e.message&&(r[i.ExceptionAttribute.MESSAGE]=e.message),e.stack&&(r[i.ExceptionAttribute.STACKTRACE]=e.stack)),r[i.ExceptionAttribute.TYPE]||r[i.ExceptionAttribute.MESSAGE]?this.addEvent(i.ExceptionEventName,r,t):this._logger.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&this._logger.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this.spanContext.traceId,this.spanContext.spanId),this._ended}}},9384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;const n=r(6563),o=r(6584),i=r(7102),s=r(5112);t.Tracer=class{constructor(e,t,r){this._tracerProvider=r;const n=s.mergeConfig(t);this._sampler=n.sampler,this._traceParams=n.traceParams,this._idGenerator=t.idGenerator||new o.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e,this.logger=t.logger||new o.ConsoleLogger(t.logLevel)}startSpan(e,t={},r=n.context.active()){var s,a,c;if(o.isInstrumentationSuppressed(r))return this.logger.debug("Instrumentation suppressed, returning Noop Span"),n.NOOP_SPAN;const u=function(e,t){return null===e.parent?void 0:e.parent?function(e){return function(e){return"function"==typeof e.context}(e)?e.context():e}(e.parent):o.getParentSpanContext(t)}(t,r),l=this._idGenerator.generateSpanId();let p,h;u&&n.trace.isSpanContextValid(u)?(p=u.traceId,h=u.traceState):p=this._idGenerator.generateTraceId();const f=null!==(s=t.kind)&&void 0!==s?s:n.SpanKind.INTERNAL,d=null!==(a=t.links)&&void 0!==a?a:[],v=null!==(c=t.attributes)&&void 0!==c?c:{},m=this._sampler.shouldSample(u,p,e,f,v,d),y={traceId:p,spanId:l,traceFlags:m.decision===n.SamplingDecision.RECORD_AND_SAMPLED?n.TraceFlags.SAMPLED:n.TraceFlags.NONE,traceState:h};if(m.decision===n.SamplingDecision.NOT_RECORD)return this.logger.debug("Recording is off, starting no recording span"),new o.NoRecordingSpan(y);const _=new i.Span(this,e,y,f,u?u.spanId:void 0,d,t.startTime);return _.setAttributes(Object.assign(v,m.attributes)),_}getCurrentSpan(){const e=n.context.active();return o.getActiveSpan(e)}withSpan(e,t){return n.context.with(o.setActiveSpan(n.context.active(),e),t)}bind(e,t){return n.context.bind(e,t?o.setActiveSpan(n.context.active(),t):n.context.active())}getActiveTraceParams(){return this._traceParams}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}},3977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_MAX_LINKS_PER_SPAN=t.DEFAULT_MAX_ATTRIBUTES_PER_SPAN=t.DEFAULT_MAX_EVENTS_PER_SPAN=void 0;const n=r(6584);t.DEFAULT_MAX_EVENTS_PER_SPAN=128,t.DEFAULT_MAX_ATTRIBUTES_PER_SPAN=32,t.DEFAULT_MAX_LINKS_PER_SPAN=32,t.DEFAULT_CONFIG={logLevel:n.getEnv().OTEL_LOG_LEVEL,sampler:new n.AlwaysOnSampler,traceParams:{numberOfAttributesPerSpan:t.DEFAULT_MAX_ATTRIBUTES_PER_SPAN,numberOfLinksPerSpan:t.DEFAULT_MAX_LINKS_PER_SPAN,numberOfEventsPerSpan:t.DEFAULT_MAX_EVENTS_PER_SPAN},gracefulShutdown:!0}},6691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessor=void 0;const n=r(6563),o=r(6584);t.BatchSpanProcessor=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._bufferSize=t&&t.bufferSize?t.bufferSize:100,this._bufferTimeout=t&&"number"==typeof t.bufferTimeout?t.bufferTimeout:2e4}forceFlush(e=(()=>{})){this._isShutdown?setTimeout(e,0):this._flush(e)}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(e=(()=>{})){this._isShutdown?setTimeout(e,0):(this.forceFlush(e),this._isShutdown=!0,this._exporter.shutdown())}_addToBuffer(e){this._finishedSpans.push(e),this._maybeStartTimer(),this._finishedSpans.length>this._bufferSize&&this._flush()}_flush(e=(()=>{})){this._clearTimer(),0!==this._finishedSpans.length?(n.context.with(o.suppressInstrumentation(n.context.active()),(()=>{this._exporter.export(this._finishedSpans,e)})),this._finishedSpans=[]):setTimeout(e,0)}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flush()}),this._bufferTimeout),o.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}},8225:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSpanExporter=void 0;const n=r(6584);t.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([])}_exportInfo(e){return{traceId:e.spanContext.traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext.spanId,kind:e.kind,timestamp:n.hrTimeToMicroseconds(e.startTime),duration:n.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,t){for(const t of e)console.log(this._exportInfo(t));if(t)return t(n.ExportResult.SUCCESS)}}},507:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySpanExporter=void 0;const n=r(6584);t.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t(n.ExportResult.FAILED_NOT_RETRYABLE);this._finishedSpans.push(...e),setTimeout((()=>t(n.ExportResult.SUCCESS)),0)}shutdown(){this._stopped=!0,this._finishedSpans=[]}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}},2815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpanProcessor=void 0;const n=r(6563),o=r(6584);t.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1}forceFlush(e=(()=>{})){setTimeout(e,0)}onStart(e){}onEnd(e){this._isShutdown||n.context.with(o.suppressInstrumentation(n.context.active()),(()=>{this._exporter.export([e],(()=>{}))}))}shutdown(e=(()=>{})){this._isShutdown||(this._isShutdown=!0,this._exporter.shutdown()),setTimeout(e,0)}}},8658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2745:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(4249),t),o(r(3076),t),o(r(8225),t),o(r(6691),t),o(r(507),t),o(r(2815),t),o(r(5344),t),o(r(8658),t),o(r(7102),t),o(r(9384),t),o(r(7609),t)},7609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5112:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;const n=r(3977),o=r(6584);t.mergeConfig=function(e){const t=e.traceParams,r=o.getEnv().OTEL_SAMPLING_PROBABILITY,i=Object.assign(n.DEFAULT_CONFIG,void 0!==r&&r<1?{sampler:new o.ParentOrElseSampler(new o.ProbabilitySampler(r))}:{},e);return t&&(i.traceParams.numberOfAttributesPerSpan=t.numberOfAttributesPerSpan||n.DEFAULT_MAX_ATTRIBUTES_PER_SPAN,i.traceParams.numberOfEventsPerSpan=t.numberOfEventsPerSpan||n.DEFAULT_MAX_EVENTS_PER_SPAN,i.traceParams.numberOfLinksPerSpan=t.numberOfLinksPerSpan||n.DEFAULT_MAX_LINKS_PER_SPAN),i}},6281:(e,t,r)=>{"use strict";var n=r(7396),o=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(r(4309).wp(e&&t,this._client),r(5823).wp(e,this._client),r(454).wp(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=o},894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5282),o=r(7396),i=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,r,n,o,i){return t=t||e,this.enabled?{operation:{name:r,id:e,parentId:t,traceparent:o,tracestate:i},customProperties:new s(n)}:null},e.runWithContext=function(t,r){return e.enabled?e.session.bind(r,((n={})[e.CONTEXT_NAME]=t,n))():r();var n},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=r(9562):this.cls=r(3057)),e.session=this.cls.createNamespace("AI-CLS-Session"),o.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,n=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&r)&&n},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=i;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var r=this.props[t];if(r.key===e)return r.value}},e.prototype.setProperty=function(t,r){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(r))n.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+r);else{for(var o=0;o<this.props.length;++o){var i=this.props[o];if(i.key===t)return void(i.value=r)}this.props.push({key:t,value:r})}},e.bannedCharacters=/[,=]/,e}()},6639:e=>{"use strict";var t=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||13===parseInt(r[0])&&parseInt(r[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(t,n,o){void 0===o&&(o=new Error(e._FALLBACK_ERROR_MESSAGE)),r._client.trackException({exception:o}),r._client.flush({isAppCrashing:!0}),t&&n&&1===process.listeners(n).length&&(console.error(o),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=t},8723:(e,t,r)=>{"use strict";var n=r(3685),o=r(5687),i=r(5282),s=r(5740),a=r(9036),c=r(8339),u=r(894),l=r(9962),p=r(8090),h=r(7396),f=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),h.IsInitialized&&(r(7886).wp(e,this._client),r(4777).wp(e,this._client),r(5071).wp(e,this._client),r(1227).wp(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0,n.get;var r=n.request,i=o.request,s=function(r,n){var o=!n[e.disableCollectionRequestOption]&&!r[e.alreadyAutoCollectedFlag];r[e.alreadyAutoCollectedFlag]=!0,r&&n&&o&&(u.CorrelationContextManager.wrapEmitter(r),e.trackRequest(t._client,{options:n,request:r}))};n.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var i=r.call.apply(r,[n,e].concat(t));return s(i,e),i},o.request=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=i.call.apply(i,[o,e].concat(t));return s(n,e),n},n.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o,i=(o=n.request).call.apply(o,[n,e].concat(t));return i.end(),i},o.get=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n,i=(n=o.request).call.apply(n,[o,e].concat(t));return i.end(),i}},e.trackRequest=function(t,r){if(r.options&&r.request&&t){var n,o,h=new c(r.options,r.request),f=u.CorrelationContextManager.getCurrentContext();if(f&&f.operation&&f.operation.traceparent&&p.isValidTraceId(f.operation.traceparent.traceId)?(f.operation.traceparent.updateSpanId(),n=f.operation.traceparent.getBackCompatRequestId()):l.w3cEnabled?(o=(v=new p).toString(),n=v.getBackCompatRequestId()):n=f&&f.operation&&f.operation.parentId+e.requestNumber+++".",s.canIncludeCorrelationHeader(t,h.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var d=r.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,r.request,d)}catch(e){i.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(f&&f.operation)try{if(r.request.setHeader(a.requestIdHeader,n),r.request.setHeader(a.parentIdHeader,f.operation.id),r.request.setHeader(a.rootIdHeader,n),o||f.operation.traceparent)r.request.setHeader(a.traceparentHeader,o||f.operation.traceparent.toString());else if(l.w3cEnabled){var v=(new p).toString();r.request.setHeader(a.traceparentHeader,v)}if(f.operation.tracestate){var m=f.operation.tracestate.toString();m&&r.request.setHeader(a.traceStateHeader,m)}var y=f.customProperties.serializeToHeader();y&&r.request.setHeader(a.correlationContextHeader,y)}catch(e){i.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}r.request.on&&(r.request.on("response",(function(e){h.onResponse(e);var o=h.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects["http.ClientResponse"]=e,t.trackDependency(o)})),r.request.on("error",(function(e){h.onError(e);var o=h.getDependencyTelemetry(r,n);o.contextObjects=o.contextObjects||{},o.contextObjects["http.RequestOptions"]=r.options,o.contextObjects["http.ClientRequest"]=r.request,o.contextObjects.Error=e,t.trackDependency(o)})))}else i.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=f},8339:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(7310),s=r(5290),a=r(5740),c=r(9036),u=r(3054),l=r(9962),p=function(e){function t(r,n){var o=e.call(this)||this;return n&&n.method&&r&&(o.method=n.method,o.url=t._getUrlFromRequestOptions(r,n),o.startTime=+new Date),o}return o(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var r=i.parse(this.url);r.search=void 0,r.hash=void 0;var n=this.method.toUpperCase()+" "+r.pathname,o=s.RemoteDependencyDataConstants.TYPE_HTTP,a=r.hostname;this.correlationId?(o=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a=r.hostname+" | "+this.correlationId)):o=s.RemoteDependencyDataConstants.TYPE_HTTP,r.port&&(a+=":"+r.port);var c={id:t,name:n,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:a};if(e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=i.parse(e);else{var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var n=i.parse(e.path);e.pathname=n.pathname,e.search=n.search}return e.host&&e.port&&!i.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",i.format(e)},t}(u);e.exports=p},6694:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(7310),s=r(5290),a=r(5740),c=r(9036),u=r(3054),l=r(9962),p=r(6333),h=r(8090),f=function(e){function t(t,r){var n=e.call(this)||this;return t&&(n.method=t.method,n.url=n._getAbsoluteUrl(t),n.startTime=+new Date,n.socketRemoteAddress=t.socket&&t.socket.remoteAddress,n.parseHeaders(t,r),t.connection&&(n.connectionRemoteAddress=t.connection.remoteAddress,n.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),n}return o(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+i.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var r in e)t[r]||(t[r]=e[r]);if(e.properties)for(var r in e.properties)t.properties[r]=e.properties[r]}return t},t.prototype.getRequestTags=function(e){var r={};for(var n in e)r[n]=e[n];return r[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(e),r[t.keys.operationParentId]=this.getOperationParentId(e),r[t.keys.operationId]=this.getOperationId(e),r},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+i.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,r=i.parse(e.url),n=r.pathname,o=r.search;return i.format({protocol:t?"https":"http",host:e.headers.host,pathname:n,search:o})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var r=e.exec(t);if(r)return r[0]},r=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!r&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(r="127.0.0.1"),r},t.prototype._getId=function(e){var r=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,r))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var r=e.headers[c.traceStateHeader],n=e.headers[c.traceparentHeader],o=e.headers[c.requestIdHeader],i=e.headers[c.parentIdHeader],s=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],l.w3cEnabled&&(n||r)?(this.traceparent=new h(n),this.tracestate=n&&r&&new p(r),this.setBackCompatFromThisTraceContext()):o?l.w3cEnabled?(this.traceparent=new h(null,o),this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new h,this.traceparent.parentId=i,this.traceparent.legacyRootId=s||i,this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(u);e.exports=f},731:(e,t,r)=>{"use strict";var n=r(3685),o=r(5687),i=r(5282),s=r(5740),a=r(9036),c=r(6694),u=r(894),l=r(4350),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=function(r){if(r){if("function"!=typeof r)throw new Error("onRequest handler must be a function");return function(n,o){u.CorrelationContextManager.wrapEmitter(n),u.CorrelationContextManager.wrapEmitter(o);var i=n&&!n[e.alreadyAutoCollectedFlag];if(n&&i){var s=new c(n),a=t._generateCorrelationContext(s);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(n[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:n,response:o},s)),"function"==typeof r&&r(n,o)}))}else"function"==typeof r&&r(n,o)}}},i=function(e){var t=e.addListener.bind(e);e.addListener=function(e,n){switch(e){case"request":case"checkContinue":return t(e,r(n));default:return t(e,n)}},e.on=e.addListener},s=n.createServer;n.createServer=function(e){var t=s(r(e));return i(t),t};var a=o.createServer;o.createServer=function(e,t){var n=a(e,r(t));return i(n),n}},e.trackRequestSync=function(t,r){if(r.request&&r.response&&t){e.addResponseCorrelationIdHeader(t,r.response);var n=u.CorrelationContextManager.getCurrentContext(),o=new c(r.request,n&&n.operation.parentId);n&&(n.operation.id=o.getOperationId(t.context.tags)||n.operation.id,n.operation.name=o.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=o.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(o.getCorrelationContextHeader())),e.endRequest(t,o,r,r.duration,r.error)}else i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t)},e.trackRequest=function(t,r,n){if(r.request&&r.response&&t){var o=u.CorrelationContextManager.getCurrentContext(),a=n||new c(r.request,o&&o.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),o&&!n&&(o.operation.id=a.getOperationId(t.context.tags)||o.operation.id,o.operation.name=a.getOperationName(t.context.tags)||o.operation.name,o.operation.parentId=a.getOperationParentId(t.context.tags)||o.operation.parentId,o.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",(function(){e.endRequest(t,a,r,null,null)})),r.request.on&&r.request.on("error",(function(n){e.endRequest(t,a,r,null,n)}))}else i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var r=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,r)}},e.endRequest=function(e,t,r,n,o){o?t.onError(o,n):t.onResponse(r.response,n);var i=t.getRequestTelemetry(r);if(i.tagOverrides=t.getRequestTags(e.context.tags),r.tagOverrides)for(var s in r.tagOverrides)i.tagOverrides[s]=r.tagOverrides[s];var a=t.getLegacyRootId();a&&(i.properties.ai_legacyRootId=a),i.contextObjects=i.contextObjects||{},i.contextObjects["http.ServerRequest"]=r.request,i.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},1629:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(9253),i=r(4470),s=r(5282),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,n,o){var i=this;if(void 0===n&&(n={}),void 0===o&&(o=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=r(Object(function(){var e=new Error("Cannot find module 'applicationinsights-native-metrics'");throw e.code="MODULE_NOT_FOUND",e}()));e._emitter=new a,e._metricsAvailable=!0,s.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,o),this._handle=setInterval((function(){return i._trackNativeMetrics()}),o),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[o.ENV_nativeMetricsDisableAll],r=process.env[o.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(r){var i=r.split(","),s={};if(i.length>0)for(var a=0,c=i;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:n({},e,s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,r=e._emitter.getGCData();for(var n in r){var o=r[n].metrics,s=n+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var r,n=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:n,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,r)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,r,n=process.memoryUsage(),o=n.heapUsed,s=n.heapTotal,a=n.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,r)})}},e}();t.AutoCollectNativePerformance=a},4350:(e,t,r)=>{"use strict";var n=r(2037),o=r(3580),i=function(){function e(t,r,n){void 0===r&&(r=6e4),void 0===n&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return e.prototype.enable=function(t,r){var o=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=n.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval((function(){return o.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalRequestExecutionTime+=n,!1===r&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if("string"==typeof t)n=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;n=t}e._intervalDependencyExecutionTime+=n,!1===r&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=n.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,r=0,i=0,s=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],p=(u.model,u.speed,u.times),h=l.times;t+=p.user-h.user||0,r+=p.sys-h.sys||0,i+=p.nice-h.nice||0,s+=p.idle-h.idle||0,a+=p.irq-h.irq||0}var f=void 0;if("function"==typeof process.cpuUsage){var d=process.cpuUsage(),v=process.hrtime(),m=d.user-this._lastAppCpuUsage.user+(d.system-this._lastAppCpuUsage.system)||0;void 0!==this._lastHrtime&&2===this._lastHrtime.length&&(f=100*m/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=d,this._lastHrtime=v}var y=t+r+i+s+a||1;this._client.trackMetric({name:o.PerformanceCounter.PROCESSOR_TIME,value:(y-s)/y*100}),this._client.trackMetric({name:o.PerformanceCounter.PROCESS_TIME,value:f||t/y*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=n.freemem(),t=process.memoryUsage().rss,r=n.totalmem()-e;this._client.trackMetric({name:o.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:o.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,i=r.totalFailedRequestCount-t.totalFailedRequestCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var u=n/a,l=i/a;this._client.trackMetric({name:o.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:o.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,i=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=r.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var u=n/a,l=i/a;this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:o.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,i=r.time-t.time;if(i>0){var s=n/(i/1e3);this._client.trackMetric({name:o.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=i},3054:e=>{"use strict";var t=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var n=this.properties||{};if(t)if("string"==typeof t)n.error=t;else if(t instanceof Error)n.error=t.message;else if("object"==typeof t)for(var o in t)n[o]=t[o]&&t[o].toString&&t[o].toString();this.properties=n},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=t},5823:(e,t,r)=>{"use strict";var n=r(5290),o=r(4953),i=[],s={10:n.SeverityLevel.Verbose,20:n.SeverityLevel.Verbose,30:n.SeverityLevel.Information,40:n.SeverityLevel.Warning,50:n.SeverityLevel.Error,60:n.SeverityLevel.Critical},a=function(e){var t=e.data.result;i.forEach((function(r){var n=s[e.data.level];t instanceof Error?r.trackException({exception:t}):r.trackTrace({message:t,severity:n})}))};t.wp=function(e,t){e?(0===i.length&&o.channel.subscribe("bunyan",a),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("bunyan",a)}},4309:(e,t,r)=>{"use strict";var n=r(5290),o=r(4953),i=[],s=function(e){var t=e.data.message;i.forEach((function(r){t instanceof Error?r.trackException({exception:t}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),r.trackTrace({message:t,severity:e.data.stderr?n.SeverityLevel.Warning:n.SeverityLevel.Information}))}))};t.wp=function(e,t){e?(0===i.length&&o.channel.subscribe("console",s),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("console",s)}},7396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5282);t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var o="DiagnosticChannel";if(t.IsInitialized){var i=r(4106),s=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston};for(var c in a)-1===s.indexOf(c)&&(a[c].enable(),n.info(o,"Subscribed to "+c+" events"));s.length>0&&n.info(o,"Some modules will not be patched",s)}else n.info(o,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&r(4953).channel.addContextPreservation(e)}},7886:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){e.data.event.commandName,o.forEach((function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("mongodb",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mongodb",t.qP)}},4777:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){o.forEach((function(t){var r=e.data.query||{},n=r.sql||"Unknown query",o=!e.data.err,i=(r._connection||{}).config||{},s=i.socketPath?i.socketPath:(i.host||"localhost")+":"+i.port;t.trackDependency({target:s,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"mysql"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("mysql",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("mysql",t.qP)}},1227:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){o.forEach((function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",o=!e.data.error,i=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:i,data:n,name:n,duration:e.data.duration,success:o,resultCode:o?"0":"1",dependencyTypeName:"postgres"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("postgres",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("postgres",t.qP)}},5071:(e,t,r)=>{"use strict";var n=r(4953),o=[];t.qP=function(e){o.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.wp=function(e,r){e?(0===o.length&&n.channel.subscribe("redis",t.qP),o.push(r)):0===(o=o.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("redis",t.qP)}},454:(e,t,r)=>{"use strict";var n=r(5290),o=r(4953),i=[],s={syslog:function(e){var t={emerg:n.SeverityLevel.Critical,alert:n.SeverityLevel.Critical,crit:n.SeverityLevel.Critical,error:n.SeverityLevel.Error,warning:n.SeverityLevel.Warning,notice:n.SeverityLevel.Information,info:n.SeverityLevel.Information,debug:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},npm:function(e){var t={error:n.SeverityLevel.Error,warn:n.SeverityLevel.Warning,info:n.SeverityLevel.Information,verbose:n.SeverityLevel.Verbose,debug:n.SeverityLevel.Verbose,silly:n.SeverityLevel.Verbose};return void 0===t[e]?n.SeverityLevel.Information:t[e]},unknown:function(e){return n.SeverityLevel.Information}},a=function(e){var t=e.data.message;i.forEach((function(r){if(t instanceof Error)r.trackException({exception:t,properties:e.data.meta});else{var n=s[e.data.levelKind](e.data.level);r.trackTrace({message:t,severity:n,properties:e.data.meta})}}))};t.wp=function(e,t){e?(0===i.length&&o.channel.subscribe("winston",a),i.push(t)):0===(i=i.filter((function(e){return e!=t}))).length&&o.channel.unsubscribe("winston",a)}},3580:(e,t)=>{"use strict";var r,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(r=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(n=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((o={})[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,o[n.REQUEST_RATE]=r.REQUEST_RATE,o[n.REQUEST_DURATION]=r.REQUEST_DURATION,o[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,o[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,o[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,o[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,o[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,o[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,o),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability}},9382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9958),o=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=o,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof n.EventData||e instanceof n.ExceptionData||e instanceof n.MessageData||e instanceof n.MetricData||e instanceof n.PageViewData||e instanceof n.RemoteDependencyData||e instanceof n.RequestData}},7220:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=i},4101:e=>{"use strict";e.exports=function(){}},9871:e=>{"use strict";e.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}},320:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){return e.call(this)||this}return o(t,e),t}(r(4101));e.exports=i},8602:(e,t,r)=>{"use strict";var n=r(495);e.exports=function(){this.kind=n.Measurement}},495:e=>{"use strict";var t;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(t||(t={})),e.exports=t},8934:e=>{"use strict";e.exports=function(){}},7300:e=>{"use strict";e.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}},4526:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=i},935:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=i},8082:e=>{"use strict";e.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}},901:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return o(t,e),t}(r(8934));e.exports=i},3092:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return o(t,e),t}(r(8934));e.exports=i},6279:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(4526));e.exports=i},6290:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=i},7339:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return o(t,e),t}(r(8934));e.exports=i},9697:e=>{"use strict";var t;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(t||(t={})),e.exports=t},6781:e=>{"use strict";e.exports=function(){}},9958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=r(7220),t.Base=r(4101),t.ContextTagKeys=r(9871),t.Data=r(320),t.DataPoint=r(8602),t.DataPointType=r(495),t.Domain=r(8934),t.Envelope=r(7300),t.EventData=r(4526),t.ExceptionData=r(935),t.ExceptionDetails=r(8082),t.MessageData=r(901),t.MetricData=r(3092),t.PageViewData=r(6279),t.RemoteDependencyData=r(6290),t.RequestData=r(7339),t.SeverityLevel=r(9697),t.StackFrame=r(6781)},5481:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData";case r.Availability:return"AvailabilityData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency;case"AvailabilityData":return r.Availability}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability"}(r=t.TelemetryType||(t.TelemetryType={}))},2626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(5481))},5290:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(9382)),n(r(9958)),n(r(2626))},3504:(e,t,r)=>{"use strict";var n=r(5282),o=function(){function e(e,t,r,n){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=r,this._sender=n}return e.prototype.setUseDiskRetryCaching=function(e,t,r){this._sender.setDiskRetryMode(e,t,r)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var r=this._stringify(e);"string"==typeof r&&(this._buffer.push(r),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else n.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var r=this._buffer.length<1;if(!r){var n=this._buffer.join("\n");e?(this._sender.saveOnCrash(n),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(n):new Buffer(n),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){n.warn("Failed to serialize payload",t,e)}},e}();e.exports=o},9253:(e,t,r)=>{"use strict";var n=r(9962),o=r(5158),i=r(3580),s=r(7310),a=function(){function e(t){var r=this;this.endpointBase=i.DEFAULT_BREEZE_ENDPOINT;var n=process.env[e.ENV_connectionString],a=o.parse(t),c=o.parse(n),u=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return r.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||i.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){n.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=n.correlationIdPrefix,n.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=a},5158:(e,t,r)=>{"use strict";var n=r(3580),o=function(){function e(){}return e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR).reduce((function(t,r){var n=r.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===n.length){var o=n[0].toLowerCase(),i=n[1];t[o]=i}return t}),{});if(Object.keys(r).length>0){if(r.endpointsuffix){var o=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+o+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+o+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=o},4470:(e,t,r)=>{"use strict";var n=r(2037),o=r(7147),i=r(1017),s=r(5290),a=r(5282),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||i.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[t]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=n&&n.hostname(),this.tags[this.keys.deviceOSVersion]=n&&n.type()+" "+n.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=n&&n.arch(),this.tags["ai.device.osPlatform"]=n&&n.platform()},e.prototype._loadInternalContext=function(){var t=i.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(o.readFileSync(t,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c},9962:(e,t,r)=>{"use strict";var n=r(5740),o=r(5282),i=function(){function e(){}return e.queryCorrelationId=function(t,r){var i=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(i))r(e.completedLookups[i]);else if(e.pendingLookups[i])e.pendingLookups[i].push(r);else{e.pendingLookups[i]=[r];var s=function(){if(e.pendingLookups[i]){var r={method:"GET",disableAppInsightsAutoCollection:!0};o.info(e.TAG,r);var a=n.makeRequest(t,i,r,(function(r){if(200===r.statusCode){var n="";r.setEncoding("utf-8"),r.on("data",(function(e){n+=e})),r.on("end",(function(){o.info(e.TAG,n);var t=e.correlationIdPrefix+n;e.completedLookups[i]=t,e.pendingLookups[i]&&e.pendingLookups[i].forEach((function(e){return e(t)})),delete e.pendingLookups[i]}))}else r.statusCode>=400&&r.statusCode<500?(e.completedLookups[i]=void 0,delete e.pendingLookups[i]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){o.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,r){var n=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",o=e.pendingLookups[n];o&&(e.pendingLookups[n]=o.filter((function(e){return e!=r})),0==e.pendingLookups[n].length&&delete e.pendingLookups[n])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var r="|"===e[0]?1:0;return e.substring(r,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,o){if(t.length+r.length<e.requestIdMaxLength)return t+r+o;var i=e.requestIdMaxLength-9;if(t.length>i)for(;i>1;--i){var s=t[i-1];if("."===s||"_"===s)break}if(i<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,i)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();e.exports=i},9813:(e,t,r)=>{"use strict";var n=r(5290),o=r(5740),i=r(894),s=function(){function e(){}return e.createEnvelope=function(t,r,i,s,a){var c=null;switch(r){case n.TelemetryType.Trace:c=e.createTraceData(t);break;case n.TelemetryType.Dependency:c=e.createDependencyData(t);break;case n.TelemetryType.Event:c=e.createEventData(t);break;case n.TelemetryType.Exception:c=e.createExceptionData(t);break;case n.TelemetryType.Request:c=e.createRequestData(t);break;case n.TelemetryType.Metric:c=e.createMetricData(t);break;case n.TelemetryType.Availability:c=e.createAvailabilityData(t)}if(i&&n.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in i)c.baseData.properties[u]||(c.baseData.properties[u]=i[u]);else c.baseData.properties=i;c.baseData.properties=o.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",p=new n.Envelope;return p.data=c,p.iKey=l,p.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(s,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=a?a.samplingPercentage:100,r===n.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=o.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=o.w3cTraceId();var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),r.baseData=t,r},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var r=e.exception.stack,i=new n.ExceptionDetails;i.message=e.exception.message,i.typeName=e.exception.name,i.parsedStack=this.parseStack(r),i.hasFullStack=o.isArray(i.parsedStack)&&i.parsedStack.length>0,t.exceptions.push(i);var s=new n.Data;return s.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=o.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=o.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),r.baseData=t,r},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var o=new n.Data;return o.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),o.baseData=t,o},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=o.w3cTraceId(),t.name=e.name,t.duration=o.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),r.baseData=t,r},e.getTags=function(e,t){var r=i.CorrelationContextManager.getCurrentContext(),n={};if(e&&e.tags)for(var o in e.tags)n[o]=e.tags[o];if(t)for(var o in t)n[o]=t[o];return r&&(n[e.keys.operationId]=n[e.keys.operationId]||r.operation.id,n[e.keys.operationName]=n[e.keys.operationName]||r.operation.name,n[e.keys.operationParentId]=n[e.keys.operationParentId]||r.operation.parentId),n},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var r=e.split("\n");t=[];for(var n=0,o=0,i=0;i<=r.length;i++){var s=r[i];if(a.regex.test(s)){var c=new a(r[i],n++);o+=c.sizeInBytes,t.push(c)}}if(o>32768)for(var u=0,l=t.length-1,p=0,h=u,f=l;u<l;){if((p+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var d=f-h+1;t.splice(h,d);break}h=u,f=l,u++,l--}}return t},e}(),a=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=o.trim(t);var n=t.match(e.regex);n&&n.length>=5&&(this.method=o.trim(n[2])||this.method,this.fileName=o.trim(n[4])||"<no_filename>",this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=s},5282:e=>{"use strict";var t=function(){function e(){}return e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.enableDebug&&console.info(e.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];e.disableWarnings||console.warn(e.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();e.exports=t},1259:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=r(7625),s=r(731),a=r(8723),c=r(5282),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(i);e.exports=u},7148:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=r(2037),i=r(5290),s=r(3580),a=r(5740),c=r(5282),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,r,n){var i=o&&"function"==typeof o.hostname&&o.hostname()||"Unknown",s=n.tags&&n.keys&&n.keys.cloudRoleInstance&&n.tags[n.keys.cloudRoleInstance]||i;return{Documents:t.length>0?t:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:n.tags[n.keys.internalSdkVersion],StreamId:u,MachineName:i,Instance:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case i.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case i.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case i.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case i.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case i.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.name;return n({},r,{Name:o})},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.severityLevel||0;return n({},r,{Message:t.data.baseData.message,SeverityLevel:i.SeverityLevel[o]})},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData.exceptions,i="",s="",a="";return o&&o.length>0&&(o[0].parsedStack&&o[0].parsedStack.length>0?o[0].parsedStack.forEach((function(e){i+=e.assembly+"\n"})):o[0].stack&&o[0].stack.length>0&&(i=o[0].stack),s=o[0].message,a=o[0].typeName),n({},r,{Exception:i,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n({},r,{Name:o.name,Success:o.success,Duration:o.duration,ResponseCode:o.responseCode,OperationName:o.name})},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),o=t.data.baseData;return n({},r,{Name:o.name,Target:o.target,Success:o.success,Duration:o.duration,ResultCode:o.resultCode,CommandName:o.data,OperationName:r.OperationId,DependencyTypeName:o.type})},e.createQuickPulseDocument=function(t){var r,n;return t.data.baseType?(n=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:r,__type:n,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],r=e.data.baseData.measurements||{};for(var n in r)if(r.hasOwnProperty(n)){var o={key:n,value:r[n]};t.push(o)}var i=e.data.baseData.properties||{};for(var n in i)i.hasOwnProperty(n)&&(o={key:n,value:i[n]},t.push(o));return t},e.keys=new i.ContextTagKeys,e}();e.exports=l},9184:(e,t,r)=>{"use strict";var n=r(5687),o=r(8723),i=r(5282),s=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,r,s){var a,c,u=this,l=JSON.stringify(t),p=((a={})[o.disableCollectionRequestOption]=!0,a.host=this._config.quickPulseHost,a.method="POST",a.path="/QuickPulseService.svc/"+s+"?ikey="+this._config.instrumentationKey,a.headers=((c={Expect:"100-continue"})["x-ms-qps-transmission-time"]=1e4*Date.now(),c["Content-Type"]="application/json",c["Content-Length"]=Buffer.byteLength(l),c),a),h=n.request(p,(function(e){var t="true"===e.headers["x-ms-qps-subscribed"];u._consecutiveErrors=0,r(t,e)}));h.on("error",(function(t){u._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";u._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+u._consecutiveErrors+" consecutive times. Most recent error:",i.warn(e.TAG,n,t)):i.info(e.TAG,n,t),r()})),h.write(l),h.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=s},3668:(e,t,r)=>{"use strict";var n=r(5282),o=r(9253),i=r(7148),s=r(9184),a=r(3580),c=r(4470),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new o(e),this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=i.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,r=e.count||1,n=a.PerformanceToQuickPulseCounter[e.name];n&&(this._metrics[n]?(this._metrics[n].Value=(this._metrics[n].Value*this._metrics[n].Weight+t*r)/(this._metrics[n].Weight+r),this._metrics[n].Weight+=r):(this._metrics[n]=i.createQuickPulseMetric(e),this._metrics[n].Name=n,this._metrics[n].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,r=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),n=i.createQuickPulseEnvelope(r,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(n):this._ping(n);var o=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,o=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(o=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),o),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(n.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},9036:e=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},2588:(e,t,r)=>{"use strict";var n=r(7147),o=r(2037),i=r(1017),s=r(9796),a=r(2081),c=r(5282),u=r(8723),l=r(5740),p=function(){function e(t,r,o){if(this._config=t,this._onSuccess=r,this._onError=o,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=n.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,r,n){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof r&&r>=0&&(this._resendInterval=Math.floor(r)),"number"==typeof n&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,r){var n=this,o=this._config.endpointUrl,i={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};s.gzip(t,(function(s,a){var p=a;s?(c.warn(s),p=t,i.headers["Content-Length"]=t.length.toString()):(i.headers["Content-Encoding"]="gzip",i.headers["Content-Length"]=a.length),c.info(e.TAG,i),i[u.disableCollectionRequestOption]=!0;var h=l.makeRequest(n._config,o,i,(function(o){o.setEncoding("utf-8");var i="";o.on("data",(function(e){i+=e})),o.on("end",(function(){n._numConsecutiveFailures=0,c.info(e.TAG,i),"function"==typeof n._onSuccess&&n._onSuccess(i),"function"==typeof r&&r(i),n._enableDiskRetryMode&&(200===o.statusCode?setTimeout((function(){return n._sendFirstFileOnDisk()}),n._resendInterval).unref():408!==o.statusCode&&429!==o.statusCode&&439!==o.statusCode&&500!==o.statusCode&&503!==o.statusCode||n._storeToDisk(t))}))}));h.on("error",(function(o){if(n._numConsecutiveFailures++,!n._enableDiskRetryMode||n._numConsecutiveFailures>0&&n._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";n._enableDiskRetryMode&&(i="Ingestion endpoint could not be reached "+n._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,i,o)}else i="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",c.info(e.TAG,i,o);if(n._onErrorHelper(o),"function"==typeof r){var s="error sending telemetry";o&&"function"==typeof o.toString&&(s=o.toString()),r(s)}n._enableDiskRetryMode&&n._storeToDisk(t)})),h.write(p),h.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,r){var n=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});n.on("error",(function(e){return r(e)})),n.on("close",(function(e,t){return r(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var r=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(0!==r.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var r=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),n="";r.stdout.on("data",(function(e){return n+=e})),r.on("error",(function(e){return t(e,null)})),r.on("close",(function(r,o){return e.ACL_IDENTITY=n&&n.trim(),t(0===r?null:new Error("Getting ACL identity did not succeed (PS returned code "+r+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,r){var n=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?r(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(o,i){if(o)return e.ACLED_DIRECTORIES[t]=!1,r(o);n._runICACLS(n._getACLArguments(t,i),(function(n){return e.ACLED_DIRECTORIES[t]=!n,r(n)}))}))):r(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var r=this;n.lstat(e,(function(o,i){o&&"ENOENT"===o.code?n.mkdir(e,(function(n){n&&"EEXIST"!==n.code?t(n):r._applyACLRules(e,t)})):!o&&i.isDirectory()?r._applyACLRules(e,t):t(o||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){n.readdir(e,(function(r,o){if(r)return t(r,-1);var s=null,a=0,c=0;if(0!==o.length)for(var u=0;u<o.length;u++)n.stat(i.join(e,o[u]),(function(e,r){c++,e?s=e:r.isFile()&&(a+=r.size),c===o.length&&t(s,s?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=n.readdirSync(e),r=0,o=0;o<t.length;o++)r+=n.statSync(i.join(e,t[o])).size;return r},e.prototype._storeToDisk=function(t){var r=this,s=i.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+s),this._confirmDirExists(s,(function(o){if(o)return c.warn(e.TAG,"Error while checking/creating directory: "+(o&&o.message)),void r._onErrorHelper(o);r._getShallowDirectorySize(s,(function(o,a){if(o||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(o&&o.message)),void r._onErrorHelper(o);if(a>r._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var u=(new Date).getTime()+".ai.json",l=i.join(s,u);c.info(e.TAG,"saving data to disk at: "+l),n.writeFile(l,t,{mode:384},(function(e){return r._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var r=i.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+r),n.existsSync(r)||n.mkdirSync(r),this._applyACLRulesSync(r);var s=this._getShallowDirectorySizeSync(r);if(s>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+s);var a=(new Date).getTime()+".ai.json",u=i.join(r,a);c.info(e.TAG,"saving data before crash to disk at: "+u),n.writeFileSync(u,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,r=i.join(o.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);n.exists(r,(function(e){e&&n.readdir(r,(function(e,o){if(e)t._onErrorHelper(e);else if((o=o.filter((function(e){return i.basename(e).indexOf(".ai.json")>-1}))).length>0){var s=o[0],a=i.join(r,s);n.readFile(a,(function(e,r){e?t._onErrorHelper(e):n.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(r)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===o.type(),e}();e.exports=p},7625:(e,t,r)=>{"use strict";var n=r(7310),o=r(9253),i=r(4470),s=r(5290),a=r(3504),c=r(9428),u=r(894),l=r(2588),p=r(5740),h=r(5282),f=r(9813),d=function(){function e(e){this._telemetryProcessors=[];var t=new o(e);this.config=t,this.context=new i,this.commonProperties={};var r=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),r)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=n.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var r=f.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString());var n=this.runTelemetryProcessors(r,e.contextObjects);n=n&&c.samplingTelemetryProcessor(r,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),n&&this.channel.send(r)}else h.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var r=!0,n=this._telemetryProcessors.length;if(0===n)return r;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var o=0;o<n;++o)try{var i=this._telemetryProcessors[o];if(i&&!1===i.apply(null,[e,t])){r=!1;break}}catch(t){r=!0,h.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return r},e}();e.exports=d},8090:(e,t,r)=>{"use strict";var n=r(5740),o=r(9962),i=function(){function e(t,r){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var i=t.trim().split("-"),s=i.length;s>=4?(this.version=i[0],this.traceId=i[1],this.spanId=i[2],this.traceFlag=i[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var a=o.getRootId(r);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==r.indexOf("|")&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=a,this.spanId=r}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=i},6333:e=>{"use strict";var t=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var r=t[0].trim(),n=t[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&i}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var r=[],n={},o=t.split(",");if(o.length>32)return null;for(var i=0,s=o;i<s.length;i++){var a=s[i].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(n[c[0]])return null;n[c[0]]=!0,r.push(a)}}return r},e.strict=!0,e}();e.exports=t},5740:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=r(3685),i=r(5687),s=r(7310),a=r(2057),c=r(5282),u=r(9036),l=function(){function e(){}return e.getCookie=function(t,r){var n="";if(t&&t.length&&"string"==typeof r)for(var o=t+"=",i=r.split(";"),s=0;s<i.length;s++)if(r=i[s],(r=e.trim(r))&&0===r.indexOf(o)){n=r.substring(o.length,i[s].length);break}return n},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},r=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),n=(Buffer.from?Buffer.from(r,"binary"):new Buffer(r,"binary")).toString("base64");return n.substr(0,n.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",o=0;o<4;o++)n+=r[15&(t=e.random32())]+r[t>>4&15]+r[t>>8&15]+r[t>>12&15]+r[t>>16&15]+r[t>>20&15]+r[t>>24&15]+r[t>>28&15];var i=r[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/6e4)%60,n=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(n=n.length<2?"0"+n:n)+":"+r+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var r={};for(var n in t){var o="",i=t[n],s=typeof i;if(e.isPrimitive(i))o=i.toString();else if(null===i||"undefined"===s)o="";else{if("function"===s){c.info("key: "+n+" was function; will not serialize");continue}var a=e.isArray(i)?i:e.extractObject(i);try{o=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){o=i.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+n+", could not be serialized")}}r[n]=o.substring(0,e.MAX_PROPERTY_LENGTH)}return r}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||0==r.length||!t)return!0;for(var n=0;n<r.length;n++)if(new RegExp(r[n].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var r=e.headers&&e.headers[u.requestContextHeader];if(r)for(var n=r.split(","),o=0;o<n.length;++o){var i=n[o].split("=");if(2==i.length&&i[0]==t)return i[1]}},e.makeRequest=function(t,r,a,u){r&&0===r.indexOf("//")&&(r="https:"+r);var l=s.parse(r),p=n({},a,{host:l.hostname,port:l.port,path:l.pathname}),h=void 0;if("https:"===l.protocol&&(h=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(h=t.proxyHttpUrl||void 0),h){0===h.indexOf("//")&&(h="http:"+h);var f=s.parse(h);"https:"===f.protocol?(c.info("Proxies that use HTTPS are not supported"),h=void 0):p=n({},p,{host:f.hostname,port:f.port||"80",path:r,headers:n({},p.headers,{Host:l.hostname})})}var d="https:"===l.protocol&&!h;return d&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:d||void 0===t.httpAgent?d&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,d?i.request(p,u):o.request(p,u)},e.safeIncludeCorrelationHeader=function(t,r,n){var o;if("string"==typeof n)o=n;else if(n instanceof Array)o=n.join(",");else if(n&&"function"==typeof n.toString)try{o=n.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,n)}o?e.addCorrelationIdHeaderFromString(t,r,o):r.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,r){var n=r.split(","),o=u.requestContextSourceKey+"=";n.some((function(e){return e.substring(0,o.length)===o}))||t.setHeader(u.requestContextHeader,r+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new i.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=l},4127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4350),o=r(5290);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case o.TelemetryTypeString.Exception:n.countException();break;case o.TelemetryTypeString.Request:var r=e.data.baseData;n.countRequest(r.duration,r.success);break;case o.TelemetryTypeString.Dependency:var i=e.data.baseData;n.countDependency(i.duration,i.success)}return!0}},608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5290);function o(e){var t=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)r=((r<<5)+r|0)+e.charCodeAt(n)|0;return(r=r<=-2147483648?t:Math.abs(r))/t*100}t.samplingTelemetryProcessor=function(e,t){var r=e.sampleRate;return null==r||r>=100||!(!e.data||n.TelemetryType.Metric!==n.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?o(t.correlationContext.operation.id)<r:100*Math.random()<r)},t.getSamplingHashCode=o},9428:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(608)),n(r(4127))},9574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(894),i=r(6281),s=r(6639),a=r(4350),c=r(8723),u=r(731),l=r(9962),p=r(5282),h=r(3668),f=r(1629);t.TelemetryClient=r(1259),t.Contracts=r(5290),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(n=t.DistributedTracingModes||(t.DistributedTracingModes={}));var d,v,m,y,_,E,g,T,S,b=!0,I=!1,O=!0,A=!0,C=!0,w=!0,P=!0,N=!0,R=!1,x=!0,D=void 0,k=void 0,L=!1;function M(){return t.defaultClient?(L=!0,m.enable(b,I),y.enable(O),_.enable(A),E.enable(x,v),g.useAutoCorrelation(N,d),g.enable(C),T.enable(w),t.liveMetricsClient&&R&&t.liveMetricsClient.enable(R)):p.warn("Start cannot be called before setup"),j}t.setup=function(e){return t.defaultClient?p.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),m=new i(t.defaultClient),y=new s(t.defaultClient),_=new a(t.defaultClient),g=new u(t.defaultClient),T=new c(t.defaultClient),E||(E=new f.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(P,D,k),j},t.start=M,t.getCorrelationContext=function(){return N?o.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return o.CorrelationContextManager.wrapCallback(e)};var j=function(){function e(){}return e.setDistributedTracingMode=function(t){return l.w3cEnabled=t===n.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,r){return void 0===r&&(r=!1),b=t,I=r,L&&m.enable(t,r),e},e.setAutoCollectExceptions=function(t){return O=t,L&&y.enable(t),e},e.setAutoCollectPerformance=function(t,r){void 0===r&&(r=!0),A=t;var n=f.AutoCollectNativePerformance.parseEnabled(r);return x=n.isEnabled,v=n.disabledMetrics,L&&(_.enable(t),E.enable(n.isEnabled,n.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return C=t,L&&g.enable(t),e},e.setAutoCollectDependencies=function(t){return w=t,L&&T.enable(t),e},e.setAutoDependencyCorrelation=function(t,r){return N=t,d=r,L&&g.useAutoCorrelation(t,r),e},e.setUseDiskRetryCaching=function(r,n,o){return P=r,D=n,k=o,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(r,n,o),e},e.setInternalLogging=function(t,r){return void 0===t&&(t=!1),void 0===r&&(r=!0),p.enableDebug=t,p.disableWarnings=!r,e},e.setSendLiveMetrics=function(r){return void 0===r&&(r=!1),t.defaultClient?(!t.liveMetricsClient&&r?(t.liveMetricsClient=new h(t.defaultClient.config.instrumentationKey),S=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(S),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(r),R=r,e):(p.warn("Live metrics client cannot be setup without the default client"),e)},e.start=M,e}();t.Configuration=j,t.dispose=function(){t.defaultClient=null,L=!1,m&&m.dispose(),y&&y.dispose(),_&&_.dispose(),E&&E.dispose(),g&&g.dispose(),T&&T.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),R=!1,t.liveMetricsClient=void 0)}},9822:(e,t,r)=>{"use strict";const n=process.binding("async_wrap"),o=n.Providers.TIMERWRAP,i={nextTick:r(3269),promise:r(9565),timers:r(7190)},s=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],n=this.destroyFns=[];this.init=function(t,r,n,i){if(r!==o)for(const o of e)o(t,this,r,n,i);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const r of t)r(e,this)},this.post=function(e,t){if(!s.has(e))for(const n of r)n(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of n)t(e)}}function u(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}function l(){this._state=new a,this._hooks=new c,this.version=r(6157).i8,this.providers=n.Providers;for(const e of Object.keys(i))i[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&u(this.initFns,e.init),e.pre&&u(this.preFns,e.pre),e.post&&u(this.postFns,e.post),e.destroy&&u(this.destroyFns,e.destroy)},e.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,n.enable()},l.prototype.disable=function(){this._state.enabled=!1,n.disable()}},3223:(e,t,r)=>{"use strict";const n=r(9822);if(global._asyncHook){if(global._asyncHook.version!==r(6157).i8)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else r(2512).filter.attach((function(e,t){return t.filter((function(e){const t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),e.exports=global._asyncHook=new n},3269:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,r=this._state,n=process.nextTick;process.nextTick=function(){if(!r.enabled)return n.apply(process,arguments);const o=new Array(arguments.length);for(let e=0;e<arguments.length;e++)o[e]=arguments[e];const i=o[0];if("function"!=typeof i)throw new TypeError("callback is not a function");const s=new t,a=--r.counter;return e.init.call(s,a,0,null,null),o[0]=function(){e.pre.call(s,a);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,o)}}},9565:e=>{"use strict";function t(){}e.exports=function(){const e=this._hooks,r=this._state,n=global.Promise,o=n.prototype.then;function i(t,r,n,o){return"function"!=typeof t?o?function(t){return function(r){return e.destroy.call(null,t),r}}(n):function(t){return function(r){throw e.destroy.call(null,t),r}}(n):function(){e.pre.call(r,n);try{return t.apply(this,arguments)}finally{e.post.call(r,n,!1),e.destroy.call(null,n)}}}n.prototype.then=function(n,s){if(!r.enabled)return o.call(this,n,s);const a=new t,c=--r.counter;return e.init.call(a,c,0,null,null),o.call(this,i(n,a,c,!0),i(s,a,c,!1))}}},7190:(e,t,r)=>{"use strict";const n=r(9512);function o(){}function i(){}function s(){}const a=new Map,c=new Map,u=new Map;let l=null,p=!1;function h(e,t,r,o,i,s,a){const c=n[r],u=n[o];n[r]=function(){if(!t.enabled)return c.apply(n,arguments);const r=new Array(arguments.length);for(let e=0;e<arguments.length;e++)r[e]=arguments[e];const o=r[0];if("function"!=typeof o)throw new TypeError('"callback" argument must be a function');const u=new i,h=--t.counter;let f;return e.init.call(u,h,0,null,null),r[0]=function(){l=f,e.pre.call(u,h);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(u,h,!0),s.delete(f),e.destroy.call(null,h)}))}e.post.call(u,h,!1),l=null,(a||p)&&(p=!1,s.delete(f),e.destroy.call(null,h))},f=c.apply(n,r),s.set(f,h),f},n[o]=function(t){if(l===t&&null!==t)p=!0;else if(s.has(t)){const r=s.get(t);s.delete(t),e.destroy.call(null,r)}u.apply(n,arguments)}}e.exports=function(){h(this._hooks,this._state,"setTimeout","clearTimeout",o,a,!0),h(this._hooks,this._state,"setInterval","clearInterval",i,c,!1),h(this._hooks,this._state,"setImmediate","clearImmediate",s,u,!0),global.setTimeout=n.setTimeout,global.setInterval=n.setInterval,global.setImmediate=n.setImmediate,global.clearTimeout=n.clearTimeout,global.clearInterval=n.clearInterval,global.clearImmediate=n.clearImmediate}},8286:e=>{"use strict";e.exports=(e,t)=>class extends e{constructor(e){var r,n;super((function(e,i){r=this,n=[function(r){return t(o,!1),e(r)},function(e){return t(o,!1),i(e)}]}));var o=this;try{e.apply(r,n)}catch(e){n[1](e)}return o}}},9090:(e,t,r)=>{var n,o,i=r(6372).wrap,s=[],a=0,c=!1,u=[];function l(e,t){var r=e.length,n=t.length,o=[];if(0===r&&0===n)return o;for(var i=0;i<r;i++)o[i]=e[i];if(0===n)return o;for(var s=0;s<n;s++){var a=!0;for(i=0;i<r;i++)if(e[i].uid===t[s].uid){a=!1;break}a&&o.push(t[s])}return o}if(process._fatalException){var p,h=!1;n=function(e){var t=s.length;if(h||0===t)return!1;var r=!1;h=!0;for(var n=0;n<t;++n){var o=s[n];if(0!=(8&o.flags)){var i=p&&p[o.uid];r=o.error(i,e)||r}}return h=!1,u.length>0&&(s=u.pop()),p=void 0,r&&!c},o=function(e,t,r){var n=[];c=!0;for(var o=0;o<r;++o){var i=t[o];if(n[i.uid]=i.data,0!=(1&i.flags)){var a=i.create(i.data);void 0!==a&&(n[i.uid]=a)}}return c=!1,function(){p=n,u.push(s),s=l(t,s),c=!0;for(var o=0;o<r;++o)(2&t[o].flags)>0&&t[o].before(this,n[t[o].uid]);c=!1;var i=e.apply(this,arguments);for(c=!0,o=0;o<r;++o)(4&t[o].flags)>0&&t[o].after(this,n[t[o].uid]);return c=!1,s=u.pop(),p=void 0,i}},i(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))}else{var f=!1;n=function(e){if(f)throw e;for(var t=!1,r=s.length,n=0;n<r;++n){var o=s[n];0!=(8&o.flags)&&(t=o.error(null,e)||t)}if(!t&&c)throw e},o=function(e,t,r){var o=[];c=!0;for(var i=0;i<r;++i){var a=t[i];if(o[a.uid]=a.data,0!=(1&a.flags)){var p=a.create(a.data);void 0!==p&&(o[a.uid]=p)}}return c=!1,function(){var i,a=!1,p=!1;u.push(s),s=l(t,s),c=!0;for(var h=0;h<r;++h)(2&t[h].flags)>0&&t[h].before(this,o[t[h].uid]);c=!1;try{i=e.apply(this,arguments)}catch(e){for(a=!0,h=0;h<r;++h)if(0!=(8&s[h].flags))try{p=s[h].error(o[t[h].uid],e)||p}catch(e){throw f=!0,e}if(!p)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!a||p){for(c=!0,h=0;h<r;++h)(4&t[h].flags)>0&&t[h].after(this,o[t[h].uid]);c=!1}s=u.pop()}return i}},process.addListener("uncaughtException",n)}function d(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++a,this.data=void 0===t?null:t}function v(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof d?e:new d(e,t)}d.prototype.create=void 0,d.prototype.before=void 0,d.prototype.after=void 0,d.prototype.error=void 0,d.prototype.data=void 0,d.prototype.uid=0,d.prototype.flags=0,process.createAsyncListener=v,process.addAsyncListener=function(e,t){var r;r=e instanceof d?e:v(e,t);for(var n=!1,o=0;o<s.length;o++)if(r===s[o]){n=!0;break}return n||s.push(r),r},process.removeAsyncListener=function(e){for(var t=0;t<s.length;t++)if(e===s[t]){s.splice(t,1);break}},e.exports=function(e){var t=s.length;if(0===t)return e;for(var r=s.slice(),n=0;n<t;++n)if(r[n].flags>0)return o(e,r,t);return function(e,t,r){c=!0;for(var n=0;n<r;++n){var o=t[n];o.create&&o.create(o.data)}return c=!1,function(){u.push(s),s=l(t,s);var r=e.apply(this,arguments);return s=u.pop(),r}}(e,r,t)}},7645:(e,t,r)=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var n=r(6372),o=r(2249),i=n.wrap,s=n.massWrap,a=r(9090),c=r(3837),u=o.gte(process.version,"6.0.0"),l=o.gte(process.version,"7.0.0"),p=o.gte(process.version,"8.0.0"),h=o.gte(process.version,"11.0.0"),f=r(1808);function d(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function v(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}l&&!f._normalizeArgs?f._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,r,n=e[0],o={};"object"==typeof n&&null!==n?o=n:"string"==typeof(t=n)&&!1===(r=t,(r=Number(r))>=0&&r)?o.path=n:(o.port=n,e.length>1&&"string"==typeof e[1]&&(o.host=e[1]));var i=e[e.length-1];return"function"!=typeof i?[o,null]:[o,i]}:l||f._normalizeConnectArgs||(f._normalizeConnectArgs=function(e){var t,r={};"object"==typeof e[0]&&null!==e[0]?r=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?r.path=e[0]:(r.port=e[0],"string"==typeof e[1]&&(r.host=e[1]));var n=e[e.length-1];return"function"==typeof n?[r,n]:[r]}),"_setUpListenHandle"in f.Server.prototype?i(f.Server.prototype,"_setUpListenHandle",d):i(f.Server.prototype,"_listen2",d),i(f.Socket.prototype,"connect",(function(e){return function(){var t;(t=p&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?f._normalizeArgs(arguments):f._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var r=e.apply(this,t);return v(this),r}}));var m=r(3685);i(m.Agent.prototype,"addRequest",(function(e){return function(t){var r=t.onSocket;return t.onSocket=a((function(e){return v(e),r.apply(this,arguments)})),e.apply(this,arguments)}}));var y=r(2081);function _(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),i(e._handle,"close",x))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}y.ChildProcess?i(y.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return _(this),t}})):s(y,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return _(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var E=[];process._nextDomainTick&&E.push("_nextDomainTick"),process._tickDomainCallback&&E.push("_tickDomainCallback"),s(process,E,R),i(process,"nextTick",x);var g=["setTimeout","setInterval"];global.setImmediate&&g.push("setImmediate");var T=r(9512),S=global.setTimeout===T.setTimeout;s(T,g,x),S&&s(global,g,x);var b=r(9523);s(b,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],R),b.resolveNaptr&&i(b,"resolveNaptr",R);var I,O,A=r(7147);s(A,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],R),A.lchown&&i(A,"lchown",R),A.lchmod&&i(A,"lchmod",R),A.ftruncate&&i(A,"ftruncate",R);try{I=r(9796)}catch(e){}if(I&&I.Deflate&&I.Deflate.prototype){var C=Object.getPrototypeOf(I.Deflate.prototype);C._transform?i(C,"_transform",R):C.write&&C.flush&&C.end&&s(C,["write","flush","end"],R)}try{O=r(6113)}catch(e){}if(O){var w=["pbkdf2","randomBytes"];h||w.push("pseudoRandomBytes"),s(O,w,R)}var P=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(P){var N=process.addAsyncListener({create:function(){P=!1}});global.Promise.resolve(!0).then((function(){P=!1})),process.removeAsyncListener(N)}function R(e){var t=function(){var t,r=arguments.length-1;if("function"==typeof arguments[r]){t=Array(arguments.length);for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n];t[r]=a(arguments[r])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,r,n,o))};case 4:return function(r,n,o,i){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,r,n,o,i))};case 5:return function(r,n,o,i,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,r,n,o,i,s))};case 6:return function(r,n,o,i,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,r,n,o,i,s,c))};default:return t}}function x(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var r=1;r<arguments.length;r++)t[r]=arguments[r]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(r){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r))};case 2:return function(r,n){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n))};case 3:return function(r,n,o){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o))};case 4:return function(r,n,o,i){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i))};case 5:return function(r,n,o,i,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i,s))};case 6:return function(r,n,o,i,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,r,n,o,i,s,c))};default:return t}}P&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var o,i,s=new e((function(e,t){o=this,i=[function(t){return n(s,!1),e(t)},function(e){return n(s,!1),t(e)}]}));s.__proto__=t.prototype;try{r.apply(o,i)}catch(e){i[1](e)}return s}function n(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(o))}function o(t,r,i,s){var a;try{return{returnVal:a=r.call(t,i),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){return(a.__asl_wrapper||o).apply(this,arguments)}:n(s,!0)}}function s(e){return function(){var t=this,r=e.apply(t,Array.prototype.map.call(arguments,n));return r.__asl_wrapper=function(e,n,i,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,r),r.__asl_wrapper(e,n,i,s)):o(e,n,i,s)},r;function n(e){return"function"!=typeof e?e:a((function(n){var i=(t.__asl_wrapper||o)(this,e,n,r);if(i.error)throw i.errorVal;return i.returnVal}))}}}c.inherits(t,e),i(e.prototype,"then",s),e.prototype.chain&&i(e.prototype,"chain",s),u?global.Promise=r(8286)(e,n):(["all","race","reject","resolve","accept","defer"].forEach((function(r){"function"==typeof e[r]&&(t[r]=e[r])})),global.Promise=t)}()},2249:(e,t)=>{var r;t=e.exports=X,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var u=s++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;i[l]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var p=s++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var h=s++;i[h]="(?:"+i[a]+"|"+i[u]+")";var f=s++;i[f]="(?:"+i[c]+"|"+i[u]+")";var d=s++;i[d]="(?:-("+i[h]+"(?:\\."+i[h]+")*))";var v=s++;i[v]="(?:-?("+i[f]+"(?:\\."+i[f]+")*))";var m=s++;i[m]="[0-9A-Za-z-]+";var y=s++;i[y]="(?:\\+("+i[m]+"(?:\\."+i[m]+")*))";var _=s++,E="v?"+i[l]+i[d]+"?"+i[y]+"?";i[_]="^"+E+"$";var g="[v=\\s]*"+i[p]+i[v]+"?"+i[y]+"?",T=s++;i[T]="^"+g+"$";var S=s++;i[S]="((?:<|>)?=?)";var b=s++;i[b]=i[c]+"|x|X|\\*";var I=s++;i[I]=i[a]+"|x|X|\\*";var O=s++;i[O]="[v=\\s]*("+i[I]+")(?:\\.("+i[I]+")(?:\\.("+i[I]+")(?:"+i[d]+")?"+i[y]+"?)?)?";var A=s++;i[A]="[v=\\s]*("+i[b]+")(?:\\.("+i[b]+")(?:\\.("+i[b]+")(?:"+i[v]+")?"+i[y]+"?)?)?";var C=s++;i[C]="^"+i[S]+"\\s*"+i[O]+"$";var w=s++;i[w]="^"+i[S]+"\\s*"+i[A]+"$";var P=s++;i[P]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=s++;i[N]="(?:~>?)";var R=s++;i[R]="(\\s*)"+i[N]+"\\s+",o[R]=new RegExp(i[R],"g");var x=s++;i[x]="^"+i[N]+i[O]+"$";var D=s++;i[D]="^"+i[N]+i[A]+"$";var k=s++;i[k]="(?:\\^)";var L=s++;i[L]="(\\s*)"+i[k]+"\\s+",o[L]=new RegExp(i[L],"g");var M=s++;i[M]="^"+i[k]+i[O]+"$";var j=s++;i[j]="^"+i[k]+i[A]+"$";var $=s++;i[$]="^"+i[S]+"\\s*("+g+")$|^$";var U=s++;i[U]="^"+i[S]+"\\s*("+E+")$|^$";var G=s++;i[G]="(\\s*)"+i[S]+"\\s*("+g+"|"+i[O]+")",o[G]=new RegExp(i[G],"g");var F=s++;i[F]="^\\s*("+i[O]+")\\s+-\\s+("+i[O]+")\\s*$";var q=s++;i[q]="^\\s*("+i[A]+")\\s+-\\s+("+i[A]+")\\s*$";var H=s++;i[H]="(<|>)?=?\\s*\\*";for(var B=0;B<35;B++)r(B,i[B]),o[B]||(o[B]=new RegExp(i[B]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[T]:o[_]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof X))return new X(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[T]:o[_]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=V,t.valid=function(e,t){var r=V(e,t);return r?r.version:null},t.clean=function(e,t){var r=V(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Y(n,o)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new X(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=V(e),n=V(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function z(e,t,r){return new X(e,r).compare(new X(t,r))}function W(e,t,r){return z(e,t,r)>0}function Q(e,t,r){return z(e,t,r)<0}function J(e,t,r){return 0===z(e,t,r)}function Z(e,t,r){return 0!==z(e,t,r)}function ee(e,t,r){return z(e,t,r)>=0}function te(e,t,r){return z(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return W(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.major=function(e,t){return new X(e,t).major},t.minor=function(e,t){return new X(e,t).minor},t.patch=function(e,t){return new X(e,t).patch},t.compare=z,t.compareLoose=function(e,t){return z(e,t,!0)},t.rcompare=function(e,t,r){return z(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=W,t.lt=Q,t.eq=J,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,u,l,p,h){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var o,i,s,a,c;switch(e=new X(e,n),t=new ie(t,n),r){case">":o=W,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=W,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,h=null;if(l.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,h=h||e,o(e.semver,p.semver,n)?p=e:s(e.semver,h.semver,n)&&(h=e)})),p.operator===a||p.operator===c)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[$]:o[U],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new X(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new X(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[q]:o[F];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[G],"$1$2$3"),r("comparator trim",e,o[G]),e=(e=(e=e.replace(o[R],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[$]:o[U],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[j]:o[M];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[D]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[w]:o[C];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),u=c||se(i),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new X(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new X(n=e,r)))})),n},t.minVersion=function(e,t){e=new ie(e,t);var r=new X("0.0.0");if(e.test(r))return r;if(r=new X("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!W(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=V(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(o[P]);return null==t?null:V(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},4046:(e,t,r)=>{"use strict";const n=r(3837),o=r(9491),i=r(9867),s=r(3223),a="error@context",c=[];for(let e in s.providers)c[s.providers[e]]=e;const u=process.env.DEBUG_CLS_HOOKED;let l=-1;function p(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function h(e){return process.namespaces[e]}function f(e){let t=h(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function d(e){process.env.DEBUG&&process._rawDebug(e)}function v(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:h,createNamespace:function(e){o.ok(e,"namespace must be given a name."),u&&d("CREATING NAMESPACE "+e);let t=new p(e);return t.id=l,s.addHooks({init(r,o,i,s,a){l=r,s?(t._contexts.set(r,t._contexts.get(s)),u&&d("PARENTID: "+e+" uid:"+r+" parent:"+s+" provider:"+i)):t._contexts.set(l,t.active),u&&d("INIT "+e+" uid:"+r+" parent:"+s+" provider:"+c[i]+" active:"+n.inspect(t.active,!0))},pre(r,o){l=r;let i=t._contexts.get(r);i?(u&&d(" PRE "+e+" uid:"+r+" handle:"+v(o)+" context:"+n.inspect(i)),t.enter(i)):u&&d(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+v(o))},post(r,o){l=r;let i=t._contexts.get(r);i?(u&&d(" POST "+e+" uid:"+r+" handle:"+v(o)+" context:"+n.inspect(i)),t.exit(i)):u&&d(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+v(o))},destroy(r){l=r,u&&d("DESTROY "+e+" uid:"+r+" context:"+n.inspect(t._contexts.get(l))+" active:"+n.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t},destroyNamespace:f,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){f(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:a},p.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return u&&d("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0)),this.active[e]=t,t},p.prototype.get=function(e){if(this.active)return u&&d("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0)),this.active[e];u&&d("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+l+" active:"+n.inspect(this.active,!0))},p.prototype.createContext=function(){u&&d("   CREATING Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  active:"+n.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=l,u&&d("   CREATED Context: "+this.name+" uid:"+l+" len:"+this._set.length+"  context:"+n.inspect(e,!0,2,!0)),e},p.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return u&&d(" BEFORE RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),e(t),t}catch(e){throw e&&(e[a]=t),e}finally{u&&d(" AFTER RUN: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t)}},p.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},p.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return u&&d(" BEFORE runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(u&&d(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[a]=t,u&&d(" AFTER runPromise: "+this.name+" uid:"+l+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},p.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{r.exit(t)}}},p.prototype.enter=function(e){o.ok(e,"context must be provided for entering"),u&&d("  ENTER "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+n.inspect(e)),this._set.push(this.active),this.active=e},p.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),u&&d("  EXIT "+this.name+" uid:"+l+" len:"+this._set.length+" context: "+n.inspect(e)),this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&d("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},p.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},p.prototype.fromException=function(e){return e[a]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),u){var m=r(2512);for(var y in m.filter._modifiers)m.filter.deattach(y)}},3964:(e,t,r)=>{"use strict";const n=r(3837),o=r(9491),i=r(9867),s=r(852),a="error@context",c=process.env.DEBUG_CLS_HOOKED;let u=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function h(e){let t=p(e);o.ok(t,"can't delete nonexistent namespace! \""+e+'"'),o.ok(t.id,"don't assign to process.namespaces directly! "+n.inspect(t)),process.namespaces[e]=null}function f(...e){c&&process._rawDebug(`${n.format(...e)}`)}e.exports={getNamespace:p,createNamespace:function(e){o.ok(e,"namespace must be given a name."),c&&f(`NS-CREATING NAMESPACE (${e})`);let t=new l(e);return t.id=u,s.createHook({init(r,o,i,a){if(u=s.executionAsyncId(),t.active){if(t._contexts.set(r,t.active),c){f(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(0===u){const i=s.triggerAsyncId(),l=t._contexts.get(i);if(l){if(t._contexts.set(r,l),c){f(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}else if(c){f(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${o}] (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}}if(c&&"PROMISE"===o){f(n.inspect(a,{showHidden:!0}));const s=a.parentId;f(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${o}] (${e}) parentId:${s} asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(r){let o;if(u=s.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(c){const i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`),t._indent+=2}t.enter(o)}else if(c){const o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${n.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){let o;if(u=s.executionAsyncId(),o=t._contexts.get(r)||t._contexts.get(u),o){if(c){const i=s.triggerAsyncId();t._indent-=2;f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}t.exit(o)}else if(c){const i=s.triggerAsyncId();t._indent-=2;f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${u} triggerId:${i} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(o)}`)}},destroy(r){if(u=s.executionAsyncId(),c){const o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${u} asyncId:${r} triggerId:${o} active:${n.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${n.inspect(t._contexts.get(u))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:a},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,c&&f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},l.prototype.get=function(e){if(this.active){if(c){const t=s.executionAsyncId(),r=s.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);f(o+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+u+" active:"+n.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${o}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} active:${n.inspect(this.active)}`)}return this.active[e]}if(c){const t=s.currentId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length}`)}},l.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=u,c){const t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${u} asyncHooksCurrentId:${t} triggerId:${r} len:${this._set.length} context:${n.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(c){const e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} context:${n.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[a]=t),e}finally{if(c){const e=s.triggerAsyncId(),r=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${u} triggerId:${e} asyncHooksCurrentId:${r} len:${this._set.length} ${n.inspect(t)}`)}this.exit(t)}},l.prototype.runAndReturn=function(e){let t;return this.run((function(r){t=e(r)})),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let r=e(t);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return c&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),r.then((e=>(c&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e))).catch((e=>{throw e[a]=t,c&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+u+" len:"+this._set.length+" "+n.inspect(t)),this.exit(t),e}))},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[a]=t),e}finally{r.exit(t)}}},l.prototype.enter=function(e){if(o.ok(e,"context must be provided for entering"),c){const t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(o.ok(e,"context must be provided for exiting"),c){const t=s.executionAsyncId(),r=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${u} triggerId:${r} asyncHooksCurrentId:${t} len:${this._set.length} ${n.inspect(e)}`)}if(this.active===e)return o.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&f("??ERROR?? context exiting but not entered - ignoring: "+n.inspect(e)),o.ok(t>=0,"context not currently entered; can't exit. \n"+n.inspect(this)+"\n"+n.inspect(e))):(o.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){o.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,r="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){let n=r[e];t=n.namespace.bind(t,n.context)})),t}))},l.prototype.fromException=function(e){return e[a]},process.namespaces={}},9562:(e,t,r)=>{"use strict";const n=r(9012);process&&n.gte(process.versions.node,"8.0.0")?e.exports=r(3964):e.exports=r(4046)},9012:(e,t)=>{var r;t=e.exports=X,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var u=s++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;i[l]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var p=s++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var h=s++;i[h]="(?:"+i[a]+"|"+i[u]+")";var f=s++;i[f]="(?:"+i[c]+"|"+i[u]+")";var d=s++;i[d]="(?:-("+i[h]+"(?:\\."+i[h]+")*))";var v=s++;i[v]="(?:-?("+i[f]+"(?:\\."+i[f]+")*))";var m=s++;i[m]="[0-9A-Za-z-]+";var y=s++;i[y]="(?:\\+("+i[m]+"(?:\\."+i[m]+")*))";var _=s++,E="v?"+i[l]+i[d]+"?"+i[y]+"?";i[_]="^"+E+"$";var g="[v=\\s]*"+i[p]+i[v]+"?"+i[y]+"?",T=s++;i[T]="^"+g+"$";var S=s++;i[S]="((?:<|>)?=?)";var b=s++;i[b]=i[c]+"|x|X|\\*";var I=s++;i[I]=i[a]+"|x|X|\\*";var O=s++;i[O]="[v=\\s]*("+i[I]+")(?:\\.("+i[I]+")(?:\\.("+i[I]+")(?:"+i[d]+")?"+i[y]+"?)?)?";var A=s++;i[A]="[v=\\s]*("+i[b]+")(?:\\.("+i[b]+")(?:\\.("+i[b]+")(?:"+i[v]+")?"+i[y]+"?)?)?";var C=s++;i[C]="^"+i[S]+"\\s*"+i[O]+"$";var w=s++;i[w]="^"+i[S]+"\\s*"+i[A]+"$";var P=s++;i[P]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=s++;i[N]="(?:~>?)";var R=s++;i[R]="(\\s*)"+i[N]+"\\s+",o[R]=new RegExp(i[R],"g");var x=s++;i[x]="^"+i[N]+i[O]+"$";var D=s++;i[D]="^"+i[N]+i[A]+"$";var k=s++;i[k]="(?:\\^)";var L=s++;i[L]="(\\s*)"+i[k]+"\\s+",o[L]=new RegExp(i[L],"g");var M=s++;i[M]="^"+i[k]+i[O]+"$";var j=s++;i[j]="^"+i[k]+i[A]+"$";var $=s++;i[$]="^"+i[S]+"\\s*("+g+")$|^$";var U=s++;i[U]="^"+i[S]+"\\s*("+E+")$|^$";var G=s++;i[G]="(\\s*)"+i[S]+"\\s*("+g+"|"+i[O]+")",o[G]=new RegExp(i[G],"g");var F=s++;i[F]="^\\s*("+i[O]+")\\s+-\\s+("+i[O]+")\\s*$";var q=s++;i[q]="^\\s*("+i[A]+")\\s+-\\s+("+i[A]+")\\s*$";var H=s++;i[H]="(<|>)?=?\\s*\\*";for(var B=0;B<35;B++)r(B,i[B]),o[B]||(o[B]=new RegExp(i[B]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[T]:o[_]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof X))return new X(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[T]:o[_]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=V,t.valid=function(e,t){var r=V(e,t);return r?r.version:null},t.clean=function(e,t){var r=V(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Y(n,o)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new X(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=V(e),n=V(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function z(e,t,r){return new X(e,r).compare(new X(t,r))}function W(e,t,r){return z(e,t,r)>0}function Q(e,t,r){return z(e,t,r)<0}function J(e,t,r){return 0===z(e,t,r)}function Z(e,t,r){return 0!==z(e,t,r)}function ee(e,t,r){return z(e,t,r)>=0}function te(e,t,r){return z(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return W(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.major=function(e,t){return new X(e,t).major},t.minor=function(e,t){return new X(e,t).minor},t.patch=function(e,t){return new X(e,t).patch},t.compare=z,t.compareLoose=function(e,t){return z(e,t,!0)},t.rcompare=function(e,t,r){return z(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=W,t.lt=Q,t.eq=J,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,u,l,p,h){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var o,i,s,a,c;switch(e=new X(e,n),t=new ie(t,n),r){case">":o=W,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=W,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,h=null;if(l.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,h=h||e,o(e.semver,p.semver,n)?p=e:s(e.semver,h.semver,n)&&(h=e)})),p.operator===a||p.operator===c)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[$]:o[U],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new X(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new X(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[q]:o[F];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[G],"$1$2$3"),r("comparator trim",e,o[G]),e=(e=(e=e.replace(o[R],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[$]:o[U],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[j]:o[M];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[D]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[w]:o[C];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),u=c||se(i),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new X(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new X(n=e,r)))})),n},t.minVersion=function(e,t){e=new ie(e,t);var r=new X("0.0.0");if(e.test(r))return r;if(r=new X("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!W(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=V(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(o[P]);return null==t?null:V(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},3057:(e,t,r)=>{"use strict";var n=r(9491),o=r(9867),i="error@context";function s(e){this.name=e,this.active=null,this._set=[],this.id=null}function a(e){return process.namespaces[e]}function c(e){var t=a(e);n.ok(t,"can't delete nonexistent namespace!"),n.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){c(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||r(7645),s.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},s.prototype.get=function(e){if(this.active)return this.active[e]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[i]=t),e}finally{this.exit(t)}},s.prototype.runAndReturn=function(e){var t;return this.run((function(r){t=e(r)})),t},s.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[i]=t),e}finally{r.exit(t)}}},s.prototype.enter=function(e){n.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},s.prototype.exit=function(e){if(n.ok(e,"context must be provided for exiting"),this.active===e)return n.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);n.ok(t>=0,"context not currently entered; can't exit"),n.ok(t,"can't remove top context"),this._set.splice(t,1)},s.prototype.bindEmitter=function(e){n.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][r]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;var t=e,r=e["cls@contexts"];return Object.keys(r).forEach((function(e){var n=r[e];t=n.namespace.bind(t,n.context)})),t}))},s.prototype.fromException=function(e){return e[i]},process.namespaces||u(),e.exports={getNamespace:a,createNamespace:function(e){n.ok(e,"namespace must be given a name!");var t=new s(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,r){r&&t.enter(r)},after:function(e,r){r&&t.exit(r)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:c,reset:u}},8604:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4953);t.AzureMonitorSymbol="Azure_Monitor_Tracer";var i=function(){function e(){}return e.prototype.onStart=function(e){},e.prototype.onEnd=function(e){o.channel.publish("azure-coretracing",e)},e.prototype.shutdown=function(){},e}();t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){try{var s=new(0,r(2745).BasicTracer)(o.channel.spanContextPropagator?{scopeManager:o.channel.spanContextPropagator}:void 0),a=s.startSpan;s.startSpan=function(e,t){if(!t||!t.parent){var r=s.getCurrentSpan();r&&r.operation&&r.operation.traceparent&&(t=n({},t,{parent:{traceId:r.operation.traceparent.traceId,spanId:r.operation.traceparent.spanId}}))}var o=a.call(this,e,t);return o.addEvent("Application Insights Integration enabled"),o},s.addSpanProcessor(new i),s[t.AzureMonitorSymbol]=!0,e.setTracer(s)}catch(e){}return e}},t.enable=function(){o.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}},8859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,r){var o=t.apply(this,arguments);if(!r){var i=o;i||(i=t.call(this,e,!0)),n.channel.publish("bunyan",{level:e.level,result:i})}return o},e}},t.enable=function(){n.channel.registerMonkeyPatch("bunyan",t.bunyan)}},2495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953),o=r(2781);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new o.Writable,r=new o.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return n.channel.publish("console",{message:t}),!0},r.write=function(e){if(!e)return!0;var t=e.toString();return n.channel.publish("console",{message:t,stderr:!0}),!0};for(var i=new e.Console(t,r),s=function(t){var r=e[t];r&&(e[t]=function(){if(i[t])try{i[t].apply(i,arguments)}catch(e){}return r.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},t.enable=function(){n.channel.registerMonkeyPatch("console",t.console),r(6206)}},4106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8604);t.azuresdk=n;var o=r(8859);t.bunyan=o;var i=r(2495);t.console=i;var s=r(2028);t.mongodbCore=s;var a=r(8436);t.mongodb=a;var c=r(8002);t.mysql=c;var u=r(9024);t.pgPool=u;var l=r(8060);t.pg=l;var p=r(4487);t.redis=p;var h=r(6661);t.tedious=h;var f=r(4650);t.winston=f,t.enable=function(){o.enable(),i.enable(),s.enable(),a.enable(),c.enable(),l.enable(),u.enable(),p.enable(),f.enable(),n.enable(),h.enable()}},2028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),o.apply(this,arguments)},e},e}},t.enable=function(){n.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},8436:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4953);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return o.channel.bindToContext((function(e){return e()}))}}}),r={};return t.on("started",(function(e){r[e.requestId]||(r[e.requestId]=n({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),r={},i={};return t.on("started",(function(e){r[e.requestId]||(i[e.requestId]=o.channel.bindToContext((function(e){return e()})),r[e.requestId]=n({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=o.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var n=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=o.channel.bindToContext(arguments[1])),n.apply(this,arguments)},e}}(e);var t=e.instrument(),r={},n={};return t.on("started",(function(e){r[e.requestId]||(n[e.requestId]=o.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof n[e.requestId]&&(n[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete n[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof n[e.requestId]&&(n[e.requestId]((function(){return o.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete n[e.requestId])})),e}},t.enable=function(){o.channel.registerMonkeyPatch("mongodb",t.mongo2),o.channel.registerMonkeyPatch("mongodb",t.mongo3),o.channel.registerMonkeyPatch("mongodb",t.mongo330)}},8002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953),o=r(1017);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var i=function(e,t){return function(t,r){var o=e[t];o&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var i=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof i&&(r?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=n.channel.bindToContext(r(s,i))):arguments[e]=n.channel.bindToContext(i));var a=o.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return i(e.prototype)},a=r(4694)(o.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),i(a)("createQuery",(function(e,t){return function(r){var o=process.hrtime(e.startTime),i=1e3*o[0]+o[1]/1e6|0;n.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:r,duration:i,time:e.startDate}),t.apply(this,arguments)}}));var c=r(420)(o.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},t.enable=function(){n.channel.registerMonkeyPatch("mysql",t.mysql)}},9024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=n.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){n.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},8060:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953),o=r(2361);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var r=e.Client.prototype.query,i="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function l(e){e&&e[i]&&(e=e[i]);var t=n.channel.bindToContext((function(t,r){var i=process.hrtime(u);if(c.result=r&&{rowCount:r.rowCount,command:r.command},c.error=t,c.duration=Math.ceil(1e3*i[0]+i[1]/1e6),n.channel.publish("postgres",c),t){if(e)return e.apply(this,arguments);a&&a instanceof o.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,i,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(c.query.preparable={text:e,args:t},s=l(s)):(c.query.text=e,s?s=l(s):t=l(t)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=l(s):t?t=l(t):e.callback=l(e.callback))}catch(e){return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments)},e}},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,t){var r=e.Client.prototype.query,i="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,t,s){var a,c=this,u=!!s,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},p=process.hrtime();function h(e){e&&e[i]&&(e=e[i]);var t=n.channel.bindToContext((function(t,r){var i=process.hrtime(p);if(l.result=r&&{rowCount:r.rowCount,command:r.command},l.error=t,l.duration=Math.ceil(1e3*i[0]+i[1]/1e6),n.channel.publish("postgres",l),t){if(e)return e.apply(this,arguments);a&&a instanceof o.EventEmitter&&a.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,i,{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(l.query.preparable={text:e,args:t},s=(u="function"==typeof s)?h(s):s):(l.query.text=e,s?s=(u="function"==typeof s)?h(s):s:t=(u="function"==typeof t)?h(t):t):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,s?(u="function"==typeof s,s=h(s)):t?t=(u="function"==typeof t)?h(t):t:(u="function"==typeof e.callback,e.callback=u?h(e.callback):e.callback))}catch(e){return r.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=r.apply(this,arguments),u?a:a.then((function(e){return h()(void 0,e),new c._Promise((function(t,r){t(e)}))})).catch((function(e){return h()(e,void 0),new c._Promise((function(t,r){r(e)}))}))},e}},t.enable=function(){n.channel.registerMonkeyPatch("pg",t.postgres6),n.channel.registerMonkeyPatch("pg",t.postgres7)}},4487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4953);t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var r=e.callback;if(!r||!r.pubsubBound){var o=this.address,i=process.hrtime(),s=new Date;e.callback=n.channel.bindToContext((function(t,a){var c=process.hrtime(i),u=1e3*c[0]+c[1]/1e6|0;n.channel.publish("redis",{duration:u,address:o,commandObj:e,err:t,result:a,time:s}),"function"==typeof r&&r.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){n.channel.registerMonkeyPatch("redis",t.redis)}},6661:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(4953);t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var t=process.hrtime(),r={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return o.channel.bindToContext((function(i,s,a){var c=process.hrtime(t);r=n({},r,{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!i&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:i,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),o.channel.publish("tedious",r),e.call(this,i,s,a)}))}var r=arguments[0];arguments[0].callback=e(r.callback),t.apply(this,arguments)},e}},t.enable=function(){o.channel.registerMonkeyPatch("tedious",t.tedious)}},4650:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0});var s=r(4953);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,r){var n=e.call(this,r)||this;return n.winston=t,n}return o(t,e),t.prototype.log=function(e,t){var r=e.message,n=e.level,o=e.meta,a=i(e,["message","level","meta"]);n="function"==typeof Symbol.for?e[Symbol.for("level")]:n,r=e instanceof Error?e:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,n);for(var u in o=o||{},a)a.hasOwnProperty(u)&&(o[u]=a[u]);s.channel.publish("winston",{message:r,level:n,levelKind:c,meta:o}),t()},t}(e.Transport);function r(){var r,n=arguments[0].levels||e.config.npm.levels;for(var o in n)n.hasOwnProperty(o)&&(r=void 0===r||n[o]>n[r]?o:r);this.add(new t(e,{level:r}))}var n=e.createLogger;e.createLogger=function(){var o,i=arguments[0].levels||e.config.npm.levels;for(var s in i)i.hasOwnProperty(s)&&(o=void 0===o||i[s]>i[o]?s:o);var a=n.apply(this,arguments);a.add(new t(e,{level:o}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),r.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),r.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,r=e.Logger.prototype.log,n=function(r,n,o){var i;return i=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",s.channel.publish("winston",{level:r,message:n,meta:o,levelKind:i}),n};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(e){return e!==n})),this.filters.push(n)):this.filters=[n],r.apply(this,arguments)},e}},t.enable=function(){s.channel.registerMonkeyPatch("winston",t.winston2),s.channel.registerMonkeyPatch("winston",t.winston3)}},4694:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4694,e.exports=t},420:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=420,e.exports=t},4953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7424),o=r(7424);t.makePatchingRequire=o.makePatchingRequire;var i=function(e){return!0},s=function(){function e(){this.version=r(130).i8,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var n={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,r.forEach((function(e){var t=e.listener,r=e.filter;try{r&&r(!0)&&t(n)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,r){void 0===r&&(r=i),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:r})},e.prototype.unsubscribe=function(e,t,r){void 0===r&&(r=i);var n=this.subscribers[e];if(n)for(var o=0;o<n.length;++o)if(n[o].listener===t&&n[o].filter===r)return n.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(t(r))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new s,r(8188).prototype.require=n.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),t.channel=global.diagnosticsSource},7424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1017),o=r(4014),i=r(8188),s=Object.keys(process.binding("natives")),a=i.prototype.require;t.makePatchingRequire=function(e){var t={};return function(r){var c=a.apply(this,arguments);if(e[r]){var u=i._resolveFilename(r,this);if(t.hasOwnProperty(u))return t[u];var l=void 0;if(s.indexOf(r)<0)try{l=a.call(this,n.join(r,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var p=l.indexOf("-");p>=0&&(l=l.substring(0,p));for(var h=c,f=0,d=e[r];f<d.length;f++){var v=d[f];o.satisfies(l,v.versionSpecifier)&&(h=v.patch(h,u))}return t[u]=h}return c}}},4014:(e,t)=>{var r;t=e.exports=X,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var u=s++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;i[l]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var p=s++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var h=s++;i[h]="(?:"+i[a]+"|"+i[u]+")";var f=s++;i[f]="(?:"+i[c]+"|"+i[u]+")";var d=s++;i[d]="(?:-("+i[h]+"(?:\\."+i[h]+")*))";var v=s++;i[v]="(?:-?("+i[f]+"(?:\\."+i[f]+")*))";var m=s++;i[m]="[0-9A-Za-z-]+";var y=s++;i[y]="(?:\\+("+i[m]+"(?:\\."+i[m]+")*))";var _=s++,E="v?"+i[l]+i[d]+"?"+i[y]+"?";i[_]="^"+E+"$";var g="[v=\\s]*"+i[p]+i[v]+"?"+i[y]+"?",T=s++;i[T]="^"+g+"$";var S=s++;i[S]="((?:<|>)?=?)";var b=s++;i[b]=i[c]+"|x|X|\\*";var I=s++;i[I]=i[a]+"|x|X|\\*";var O=s++;i[O]="[v=\\s]*("+i[I]+")(?:\\.("+i[I]+")(?:\\.("+i[I]+")(?:"+i[d]+")?"+i[y]+"?)?)?";var A=s++;i[A]="[v=\\s]*("+i[b]+")(?:\\.("+i[b]+")(?:\\.("+i[b]+")(?:"+i[v]+")?"+i[y]+"?)?)?";var C=s++;i[C]="^"+i[S]+"\\s*"+i[O]+"$";var w=s++;i[w]="^"+i[S]+"\\s*"+i[A]+"$";var P=s++;i[P]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var N=s++;i[N]="(?:~>?)";var R=s++;i[R]="(\\s*)"+i[N]+"\\s+",o[R]=new RegExp(i[R],"g");var x=s++;i[x]="^"+i[N]+i[O]+"$";var D=s++;i[D]="^"+i[N]+i[A]+"$";var k=s++;i[k]="(?:\\^)";var L=s++;i[L]="(\\s*)"+i[k]+"\\s+",o[L]=new RegExp(i[L],"g");var M=s++;i[M]="^"+i[k]+i[O]+"$";var j=s++;i[j]="^"+i[k]+i[A]+"$";var $=s++;i[$]="^"+i[S]+"\\s*("+g+")$|^$";var U=s++;i[U]="^"+i[S]+"\\s*("+E+")$|^$";var G=s++;i[G]="(\\s*)"+i[S]+"\\s*("+g+"|"+i[O]+")",o[G]=new RegExp(i[G],"g");var F=s++;i[F]="^\\s*("+i[O]+")\\s+-\\s+("+i[O]+")\\s*$";var q=s++;i[q]="^\\s*("+i[A]+")\\s+-\\s+("+i[A]+")\\s*$";var H=s++;i[H]="(<|>)?=?\\s*\\*";for(var B=0;B<35;B++)r(B,i[B]),o[B]||(o[B]=new RegExp(i[B]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[T]:o[_]).test(e))return null;try{return new X(e,t)}catch(e){return null}}function X(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof X){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof X))return new X(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[T]:o[_]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=V,t.valid=function(e,t){var r=V(e,t);return r?r.version:null},t.clean=function(e,t){var r=V(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=X,X.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},X.prototype.toString=function(){return this.version},X.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof X||(e=new X(e,this.options)),this.compareMain(e)||this.comparePre(e)},X.prototype.compareMain=function(e){return e instanceof X||(e=new X(e,this.options)),Y(this.major,e.major)||Y(this.minor,e.minor)||Y(this.patch,e.patch)},X.prototype.comparePre=function(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return Y(n,o)}while(++t)},X.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new X(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=V(e),n=V(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=Y;var K=/^[0-9]+$/;function Y(e,t){var r=K.test(e),n=K.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function z(e,t,r){return new X(e,r).compare(new X(t,r))}function W(e,t,r){return z(e,t,r)>0}function Q(e,t,r){return z(e,t,r)<0}function J(e,t,r){return 0===z(e,t,r)}function Z(e,t,r){return 0!==z(e,t,r)}function ee(e,t,r){return z(e,t,r)>=0}function te(e,t,r){return z(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return Z(e,r,n);case">":return W(e,r,n);case">=":return ee(e,r,n);case"<":return Q(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return Y(t,e)},t.major=function(e,t){return new X(e,t).major},t.minor=function(e,t){return new X(e,t).minor},t.patch=function(e,t){return new X(e,t).patch},t.compare=z,t.compareLoose=function(e,t){return z(e,t,!0)},t.rcompare=function(e,t,r){return z(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=W,t.lt=Q,t.eq=J,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,o,i,s,a,c,u,l,p,h){return((t=se(r)?"":se(n)?">="+r+".0.0":se(o)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var o,i,s,a,c;switch(e=new X(e,n),t=new ie(t,n),r){case">":o=W,i=te,s=Q,a=">",c=">=";break;case"<":o=Q,i=ee,s=W,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,h=null;if(l.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,h=h||e,o(e.semver,p.semver,n)?p=e:s(e.semver,h.semver,n)&&(h=e)})),p.operator===a||p.operator===c)return!1;if((!h.operator||h.operator===a)&&i(e,h.semver))return!1;if(h.operator===c&&s(e,h.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[$]:o[U],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new X(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new X(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[q]:o[F];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(o[G],"$1$2$3"),r("comparator trim",e,o[G]),e=(e=(e=e.replace(o[R],"$1~")).replace(o[L],"$1^")).split(/\s+/).join(" ");var i=t?o[$]:o[U],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[j]:o[M];return e.replace(n,(function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[D]:o[x];return e.replace(n,(function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[w]:o[C];return e.replace(n,(function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=se(o),u=c||se(i),l=u||se(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[H],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new X(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new X(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new X(n=e,r)))})),n},t.minVersion=function(e,t){e=new ie(e,t);var r=new X("0.0.0");if(e.test(r))return r;if(r=new X("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var t=new X(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!W(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return r&&e.test(r)?r:null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=V(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof X)return e;if("string"!=typeof e)return null;var t=e.match(o[P]);return null==t?null:V(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},9867:(e,t,r)=>{"use strict";var n=r(6372),o=n.wrap,i=n.unwrap,s="wrap@before";function a(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function c(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r=r?[r]:[]),r}function u(e,t){if(e){var r=e;if("function"==typeof e)r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}e.exports=function(e,t,r){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function n(e){return function(t,r){var i=c(this,t).slice();try{var a=e.call(this,t,r);return function(e,t,r){var n=c(e,t).filter((function(e){return-1===r.indexOf(e)}));n.length>0&&function(e,t){for(var r=t.length,n=0;n<r;n++){var o=t[n],i=e[s];if("function"==typeof i)i(o);else if(Array.isArray(i))for(var a=i.length,c=0;c<a;c++)i[c](o)}}(e,n)}(this,t,i),a}finally{this.on.__wrapped||o(this,"on",n),this.addListener.__wrapped||o(this,"addListener",n)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(o(e,"addListener",n),o(e,"on",n),o(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var n=this._events[t];function s(e){return function(){this._events[t]=n;try{return e.apply(this,arguments)}finally{n=this._events[t],this._events[t]=u(n,r)}}}o(this,"removeListener",s);try{return this._events[t]=u(n,r),e.apply(this,arguments)}finally{i(this,"removeListener"),this._events[t]=n}}})),a(e,"__unwrap",(function(){i(e,"addListener"),i(e,"on"),i(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},2308:(e,t,r)=>{"use strict";const n=r(77),o=r(7065)(65536);e.exports=function(e,t,r){const i=r.overwrite,s=r.errorOnExist,a=r.preserveTimestamps;if(n.existsSync(t)){if(!i){if(s)throw new Error(`${t} already exists`);return}n.unlinkSync(t)}const c=n.openSync(e,"r"),u=n.fstatSync(c),l=n.openSync(t,"w",u.mode);let p=1,h=0;for(;p>0;)p=n.readSync(c,o,0,65536,h),n.writeSync(l,o,0,p),h+=p;a&&n.futimesSync(l,u.atime,u.mtime),n.closeSync(c),n.closeSync(l)}},5302:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(2308),s=r(1381);e.exports=function e(t,r,a){("function"==typeof a||a instanceof RegExp)&&(a={filter:a}),(a=a||{}).recursive=!!a.recursive,a.clobber=!("clobber"in a)||!!a.clobber,a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.dereference="dereference"in a&&!!a.dereference,a.preserveTimestamps="preserveTimestamps"in a&&!!a.preserveTimestamps,a.filter=a.filter||function(){return!0},a.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const c=a.recursive&&!a.dereference?n.lstatSync(t):n.statSync(t),u=o.dirname(r),l=n.existsSync(u);let p=!1;if(a.filter instanceof RegExp?(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),p=a.filter.test(t)):"function"==typeof a.filter&&(p=a.filter(t,r)),c.isFile()&&p)l||s.mkdirsSync(u),i(t,r,{overwrite:a.overwrite,errorOnExist:a.errorOnExist,preserveTimestamps:a.preserveTimestamps});else if(c.isDirectory()&&p)n.existsSync(r)||s.mkdirsSync(r),n.readdirSync(t).forEach((n=>{const i=a;i.recursive=!0,e(o.join(t,n),o.join(r,n),i)}));else if(a.recursive&&c.isSymbolicLink()&&p){const e=n.readlinkSync(t);n.symlinkSync(e,r)}}},8690:(e,t,r)=>{e.exports={copySync:r(5302)}},7189:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(4117),s=r(1381),a=r(9257).pathExists;e.exports=function(e,t,r,c){"function"!=typeof r||c?("function"==typeof r||r instanceof RegExp)&&(r={filter:r}):(c=r,r={}),c=c||function(){},(r=r||{}).preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const u=process.cwd();if(o.resolve(u,e)===o.resolve(u,t))return c(new Error("Source and destination must not be the same."));n.lstat(e,((n,u)=>{if(n)return c(n);let l=null;if(u.isDirectory()){const e=t.split(o.sep);e.pop(),l=e.join(o.sep)}else l=o.dirname(t);a(l,((n,o)=>n?c(n):o?i(e,t,r,c):void s.mkdirs(l,(n=>{if(n)return c(n);i(e,t,r,c)}))))}))}},6464:(e,t,r)=>{const n=r(8981).E;e.exports={copy:n(r(7189))}},4117:(e,t,r)=>{var n=r(77),o=r(1017),i=r(318);e.exports=function(e,t,r,s){s||(s=r,r={});var a=process.cwd(),c=o.resolve(a,e),u=o.resolve(a,t),l=r.filter,p=r.transform,h=r.overwrite;void 0===h&&(h=r.clobber),void 0===h&&(h=!0);var f=r.errorOnExist,d=r.dereference,v=!0===r.preserveTimestamps,m=0,y=0,_=0,E=!1;function g(e){if(m++,l)if(l instanceof RegExp){if(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),!l.test(e))return C(!0)}else if("function"==typeof l&&!l(e,t))return C(!0);return function(e){var t=d?n.stat:n.lstat;_++,t(e,(function(t,r){if(t)return A(t);var i,s,l={name:e,mode:r.mode,mtime:r.mtime,atime:r.atime,stats:r};if(!r.isDirectory())return r.isFile()||r.isCharacterDevice()||r.isBlockDevice()?function(e){var t=e.name.replace(c,u.replace("$","$$$$"));O(t,(function(r){r?T(e,t):h?S(t,(function(){T(e,t)})):f?A(new Error(t+" already exists")):C()}))}(l):r.isSymbolicLink()?function(e){var t=e.replace(c,u);n.readlink(e,(function(e,r){if(e)return A(e);!function(e,t){d&&(e=o.resolve(a,e)),O(t,(function(r){if(r)return I(e,t);n.readlink(t,(function(r,n){return r?A(r):(d&&(n=o.resolve(a,n)),n===e?C():S(t,(function(){I(e,t)})))}))}))}(r,t)}))}(e):void 0;O(s=(i=l).name.replace(c,u.replace("$","$$$$")),(function(e){if(e)return function(e,t){n.mkdir(t,e.mode,(function(r){if(r)return A(r);n.chmod(t,e.mode,(function(t){if(t)return A(t);b(e.name)}))}))}(i,s);b(i.name)}))}))}(e)}function T(e,t){var r=n.createReadStream(e.name),o=n.createWriteStream(t,{mode:e.mode});r.on("error",A),o.on("error",A),p?p(r,o,e):o.on("open",(function(){r.pipe(o)})),o.once("close",(function(){n.chmod(t,e.mode,(function(r){if(r)return A(r);v?i.utimesMillis(t,e.atime,e.mtime,(function(e){return e?A(e):C()})):C()}))}))}function S(e,t){n.unlink(e,(function(e){return e?A(e):t()}))}function b(e){n.readdir(e,(function(t,r){return t?A(t):(r.forEach((function(t){g(o.join(e,t))})),C())}))}function I(e,t){n.symlink(e,t,(function(e){return e?A(e):C()}))}function O(e,t){n.lstat(e,(function(e){return e&&"ENOENT"===e.code?t(!0):t(!1)}))}function A(e){if(!E&&void 0!==s)return E=!0,s(e)}function C(e){if(e||_--,y++,m===y&&0===_&&void 0!==s)return s(null)}g(c)}},5590:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(7147),i=r(1017),s=r(1381),a=r(4542),c=n((function(e,t){t=t||function(){},o.readdir(e,((r,n)=>{if(r)return s.mkdirs(e,t);n=n.map((t=>i.join(e,t))),function e(){const r=n.pop();if(!r)return t();a.remove(r,(r=>{if(r)return t(r);e()}))}()}))}));function u(e){let t;try{t=o.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach((t=>{t=i.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},6530:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(1017),i=r(77),s=r(1381),a=r(9257).pathExists;e.exports={createFile:n((function(e,t){function r(){i.writeFile(e,"",(e=>{if(e)return t(e);t()}))}i.stat(e,((n,i)=>{if(!n&&i.isFile())return t();const c=o.dirname(e);a(c,((e,n)=>e?t(e):n?r():void s.mkdirs(c,(e=>{if(e)return t(e);r()}))))}))})),createFileSync:function(e){let t;try{t=i.statSync(e)}catch(e){}if(t&&t.isFile())return;const r=o.dirname(e);i.existsSync(r)||s.mkdirsSync(r),i.writeFileSync(e,"")}}},1720:(e,t,r)=>{"use strict";const n=r(6530),o=r(4147),i=r(3635);e.exports={createFile:n.createFile,createFileSync:n.createFileSync,ensureFile:n.createFile,ensureFileSync:n.createFileSync,createLink:o.createLink,createLinkSync:o.createLinkSync,ensureLink:o.createLink,ensureLinkSync:o.createLinkSync,createSymlink:i.createSymlink,createSymlinkSync:i.createSymlinkSync,ensureSymlink:i.createSymlink,ensureSymlinkSync:i.createSymlinkSync}},4147:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(1017),i=r(77),s=r(1381),a=r(9257).pathExists;e.exports={createLink:n((function(e,t,r){function n(e,t){i.link(e,t,(e=>{if(e)return r(e);r(null)}))}a(t,((c,u)=>c?r(c):u?r(null):void i.lstat(e,((i,c)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),r(i);const u=o.dirname(t);a(u,((o,i)=>o?r(o):i?n(e,t):void s.mkdirs(u,(o=>{if(o)return r(o);n(e,t)}))))}))))})),createLinkSync:function(e,t,r){if(i.existsSync(t))return;try{i.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=o.dirname(t);return i.existsSync(n)||s.mkdirsSync(n),i.linkSync(e,t)}}},6072:(e,t,r)=>{"use strict";const n=r(1017),o=r(77),i=r(9257).pathExists;e.exports={symlinkPaths:function(e,t,r){if(n.isAbsolute(e))return o.lstat(e,((t,n)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e})));{const s=n.dirname(t),a=n.join(s,e);return i(a,((t,i)=>t?r(t):i?r(null,{toCwd:a,toDst:e}):o.lstat(e,((t,o)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:n.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let r;if(n.isAbsolute(e)){if(r=o.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const i=n.dirname(t),s=n.join(i,e);if(r=o.existsSync(s),r)return{toCwd:s,toDst:e};if(r=o.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(i,e)}}}}},9259:(e,t,r)=>{"use strict";const n=r(77);e.exports={symlinkType:function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)}))},symlinkTypeSync:function(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch(e){return"file"}return r&&r.isDirectory()?"dir":"file"}}},3635:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(1017),i=r(77),s=r(1381),a=s.mkdirs,c=s.mkdirsSync,u=r(6072),l=u.symlinkPaths,p=u.symlinkPathsSync,h=r(9259),f=h.symlinkType,d=h.symlinkTypeSync,v=r(9257).pathExists;e.exports={createSymlink:n((function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,v(t,((s,c)=>s?n(s):c?n(null):void l(e,t,((s,c)=>{if(s)return n(s);e=c.toDst,f(c.toCwd,r,((r,s)=>{if(r)return n(r);const c=o.dirname(t);v(c,((r,o)=>r?n(r):o?i.symlink(e,t,s,n):void a(c,(r=>{if(r)return n(r);i.symlink(e,t,s,n)}))))}))}))))})),createSymlinkSync:function(e,t,r,n){if(n="function"==typeof r?r:n,r="function"!=typeof r&&r,i.existsSync(t))return;const s=p(e,t);e=s.toDst,r=d(s.toCwd,r);const a=o.dirname(t);return i.existsSync(a)||c(a),i.symlinkSync(e,t,r)}}},7749:(e,t,r)=>{const n=r(8981).E,o=r(77),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof o[e]));Object.keys(o).forEach((e=>{t[e]=o[e]})),i.forEach((e=>{t[e]=n(o[e])})),t.exists=function(e,t){return"function"==typeof t?o.exists(e,t):new Promise((t=>o.exists(e,t)))},t.read=function(e,t,r,n,i,s){return"function"==typeof s?o.read(e,t,r,n,i,s):new Promise(((s,a)=>{o.read(e,t,r,n,i,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))},t.write=function(e,t,r,n,i,s){return"function"==typeof arguments[arguments.length-1]?o.write(e,t,r,n,i,s):new Promise("string"==typeof t?(i,s)=>{o.write(e,t,r,n,((e,t,r)=>{if(e)return s(e);i({bytesWritten:t,buffer:r})}))}:(s,a)=>{o.write(e,t,r,n,i,((e,t,r)=>{if(e)return a(e);s({bytesWritten:t,buffer:r})}))})}},5674:(e,t,r)=>{"use strict";const n=r(3678),o={};n(o,r(7749)),n(o,r(6464)),n(o,r(8690)),n(o,r(1381)),n(o,r(4542)),n(o,r(6573)),n(o,r(530)),n(o,r(4026)),n(o,r(5590)),n(o,r(1720)),n(o,r(1315)),n(o,r(9257)),e.exports=o},6573:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(7183);o.outputJson=n(r(3508)),o.outputJsonSync=r(9578),o.outputJSON=o.outputJson,o.outputJSONSync=o.outputJsonSync,o.writeJSON=o.writeJson,o.writeJSONSync=o.writeJsonSync,o.readJSON=o.readJson,o.readJSONSync=o.readJsonSync,e.exports=o},7183:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(6813);e.exports={readJson:n(o.readFile),readJsonSync:o.readFileSync,writeJson:n(o.writeFile),writeJsonSync:o.writeFileSync}},9578:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(1381),s=r(7183);e.exports=function(e,t,r){const a=o.dirname(e);n.existsSync(a)||i.mkdirsSync(a),s.writeJsonSync(e,t,r)}},3508:(e,t,r)=>{"use strict";const n=r(1017),o=r(1381),i=r(9257).pathExists,s=r(7183);e.exports=function(e,t,r,a){"function"==typeof r&&(a=r,r={});const c=n.dirname(e);i(c,((n,i)=>n?a(n):i?s.writeJson(e,t,r,a):void o.mkdirs(c,(n=>{if(n)return a(n);s.writeJson(e,t,r,a)}))))}},1381:(e,t,r)=>{"use strict";const n=(0,r(8981).E)(r(4887)),o=r(1452);e.exports={mkdirs:n,mkdirsSync:o,mkdirp:n,mkdirpSync:o,ensureDir:n,ensureDirSync:o}},1452:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(2660).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,r,a){r&&"object"==typeof r||(r={mode:r});let c=r.mode;const u=r.fs||n;if("win32"===process.platform&&i(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=o.resolve(t);try{u.mkdirSync(t,c),a=a||t}catch(n){if("ENOENT"===n.code){if(o.dirname(t)===t)throw n;a=e(o.dirname(t),r,a),e(t,r,a)}else{let e;try{e=u.statSync(t)}catch(e){throw n}if(!e.isDirectory())throw n}}return a}},4887:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(2660).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,r,a,c){if("function"==typeof r?(a=r,r={}):r&&"object"==typeof r||(r={mode:r}),"win32"===process.platform&&i(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let u=r.mode;const l=r.fs||n;void 0===u&&(u=s&~process.umask()),c||(c=null),a=a||function(){},t=o.resolve(t),l.mkdir(t,u,(n=>{if(!n)return a(null,c=c||t);if("ENOENT"===n.code){if(o.dirname(t)===t)return a(n);e(o.dirname(t),r,((n,o)=>{n?a(n,o):e(t,r,a,o)}))}else l.stat(t,((e,t)=>{e||!t.isDirectory()?a(n,c):a(null,c)}))}))}},2660:(e,t,r)=>{"use strict";const n=r(1017);function o(e){return(e=n.normalize(n.resolve(e)).split(n.sep)).length>0?e[0]:null}const i=/[<>:"|?*]/;e.exports={getRootPath:o,invalidWin32Path:function(e){const t=o(e);return e=e.replace(t,""),i.test(e)}}},4026:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(8690).copySync,s=r(4542).removeSync,a=r(1381).mkdirsSync,c=r(7065);function u(e,t,r){return n.statSync(e).isDirectory()?function(e,t,r){const n={overwrite:!1};function o(){return i(e,t,n),s(e)}r?(s(t),o()):o()}(e,t,r):function(e,t,r){const o=c(65536),i=r?"w":"wx",s=n.openSync(e,"r"),a=n.fstatSync(s),u=n.openSync(t,i,a.mode);let l=1,p=0;for(;l>0;)l=n.readSync(s,o,0,65536,p),n.writeSync(u,o,0,l),p+=l;return n.closeSync(s),n.closeSync(u),n.unlinkSync(e)}(e,t,r)}e.exports={moveSync:function e(t,r,i){const c=(i=i||{}).overwrite||i.clobber||!1;if(t=o.resolve(t),r=o.resolve(r),t===r)return n.accessSync(t);if(function(e,t){try{return n.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(o.dirname(e)+o.sep)[1].split(o.sep)[0]===o.basename(e)}catch(e){return!1}}(t,r))throw new Error(`Cannot move '${t}' into itself '${r}'.`);a(o.dirname(r)),function(){if(c)try{n.renameSync(t,r)}catch(n){if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)return s(r),i.overwrite=!1,e(t,r,i);if("EXDEV"!==n.code)throw n;return u(t,r,c)}else try{n.linkSync(t,r),n.unlinkSync(t)}catch(e){if("EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code)return u(t,r,c);throw e}}()}}},530:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(77),i=r(4117),s=r(1017),a=r(4542).remove,c=r(1381).mkdirs;function u(e,t,r,n){o.stat(e,((i,s)=>{if(i)return n(i);s.isDirectory()?l(e,t,r,n):function(e,t,r,n){const i=r?"w":"wx",s=o.createReadStream(e),a=o.createWriteStream(t,{flags:i});function c(){o.unlink(e,n)}s.on("error",(i=>{s.destroy(),a.destroy(),a.removeListener("close",c),o.unlink(t,(()=>{"EISDIR"===i.code||"EPERM"===i.code?l(e,t,r,n):n(i)}))})),a.on("error",(e=>{s.destroy(),a.destroy(),a.removeListener("close",c),n(e)})),a.once("close",c),s.pipe(a)}(e,t,r,n)}))}function l(e,t,r,n){const o={overwrite:!1};function s(){i(e,t,o,(t=>{if(t)return n(t);a(e,n)}))}r?a(t,(e=>{if(e)return n(e);s()})):s()}e.exports={move:n((function e(t,r,n,i){"function"==typeof n&&(i=n,n={});const l=n.overwrite||n.clobber||!1;!function(e,t,r){o.stat(e,((n,o)=>{if(n)return r(n);if(o.isDirectory()){const n=t.split(s.dirname(e)+s.sep)[1];if(n){const o=n.split(s.sep)[0];return r(null,!!o&&(e!==t&&t.indexOf(e)>-1&&o===s.basename(e)))}return r(null,!1)}return r(null,!1)}))}(t,r,((p,h)=>p?i(p):h?i(new Error(`Cannot move '${t}' to a subdirectory of itself, '${r}'.`)):void c(s.dirname(r),(c=>{if(c)return i(c);s.resolve(t)===s.resolve(r)?o.access(t,i):l?o.rename(t,r,(o=>{if(!o)return i();if("ENOTEMPTY"!==o.code&&"EEXIST"!==o.code){if("EPERM"!==o.code)return"EXDEV"!==o.code?i(o):void u(t,r,l,i);setTimeout((()=>{a(r,(o=>{if(o)return i(o);n.overwrite=!1,e(t,r,n,i)}))}),200)}else a(r,(o=>{if(o)return i(o);n.overwrite=!1,e(t,r,n,i)}))})):o.link(t,r,(e=>e?"EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code?u(t,r,l,i):i(e):o.unlink(t,i)))}))))}))}},1315:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(77),i=r(1017),s=r(1381),a=r(9257).pathExists;e.exports={outputFile:n((function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const c=i.dirname(e);a(c,((i,a)=>i?n(i):a?o.writeFile(e,t,r,n):void s.mkdirs(c,(i=>{if(i)return n(i);o.writeFile(e,t,r,n)}))))})),outputFileSync:function(e,t,r){const n=i.dirname(e);if(o.existsSync(n))return o.writeFileSync.apply(o,arguments);s.mkdirsSync(n),o.writeFileSync.apply(o,arguments)}}},9257:(e,t,r)=>{"use strict";const n=r(8981).p,o=r(7749);e.exports={pathExists:n((function(e){return o.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:o.existsSync}},4542:(e,t,r)=>{"use strict";const n=r(8981).E,o=r(3456);e.exports={remove:n(o),removeSync:o.sync}},3456:(e,t,r)=>{"use strict";const n=r(77),o=r(1017),i=r(9491),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||n[t],e[t+="Sync"]=e[t]||n[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,r){let n=0;"function"==typeof t&&(r=t,t={}),i(e,"rimraf: missing path"),i.equal(typeof e,"string","rimraf: path should be a string"),i.equal(typeof r,"function","rimraf: callback function required"),i(t,"rimraf: invalid options argument provided"),i.equal(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function o(i){if(i){if(("EBUSY"===i.code||"ENOTEMPTY"===i.code||"EPERM"===i.code)&&n<t.maxBusyTries)return n++,setTimeout((()=>u(e,t,o)),100*n);"ENOENT"===i.code&&(i=null)}r(i)}))}function u(e,t,r){i(e),i(t),i("function"==typeof r),t.lstat(e,((n,o)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&s?l(e,t,n,r):o&&o.isDirectory()?h(e,t,n,r):void t.unlink(e,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return s?l(e,t,n,r):h(e,t,n,r);if("EISDIR"===n.code)return h(e,t,n,r)}return r(n)}))))}function l(e,t,r,n){i(e),i(t),i("function"==typeof n),r&&i(r instanceof Error),t.chmod(e,438,(o=>{o?n("ENOENT"===o.code?null:r):t.stat(e,((o,i)=>{o?n("ENOENT"===o.code?null:r):i.isDirectory()?h(e,t,r,n):t.unlink(e,n)}))}))}function p(e,t,r){let n;i(e),i(t),r&&i(r instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?d(e,t,r):t.unlinkSync(e)}function h(e,t,r,n){i(e),i(t),r&&i(r instanceof Error),i("function"==typeof n),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?n(r):n(s):function(e,t,r){i(e),i(t),i("function"==typeof r),t.readdir(e,((n,i)=>{if(n)return r(n);let s,a=i.length;if(0===a)return t.rmdir(e,r);i.forEach((n=>{c(o.join(e,n),t,(n=>{if(!s)return n?r(s=n):void(0==--a&&t.rmdir(e,r))}))}))}))}(e,t,n)}))}function f(e,t){let r;a(t=t||{}),i(e,"rimraf: missing path"),i.equal(typeof e,"string","rimraf: path should be a string"),i(t,"rimraf: missing options"),i.equal(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&s&&p(e,t,r)}try{r&&r.isDirectory()?d(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return s?p(e,t,r):d(e,t,r);if("EISDIR"!==r.code)throw r;d(e,t,r)}}function d(e,t,r){i(e),i(t),r&&i(r instanceof Error);try{t.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,t){i(e),i(t),t.readdirSync(e).forEach((r=>f(o.join(e,r),t)));const r=s?100:1;let n=0;for(;;){let o=!0;try{const i=t.rmdirSync(e,t);return o=!1,i}finally{if(++n<r&&o)continue}}}(e,t);else if("ENOENT"!==n.code)throw n}}e.exports=c,c.sync=f},3678:e=>{"use strict";e.exports=function(){const e=[].slice.call(arguments).filter((e=>e)),t=e.shift();return e.forEach((e=>{Object.keys(e).forEach((r=>{t[r]=e[r]}))})),t}},7065:e=>{e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},318:(e,t,r)=>{"use strict";const n=r(77),o=r(2037),i=r(1017);e.exports={hasMillisRes:function(e){let t=i.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=i.join(o.tmpdir(),t);const r=new Date(1435410243862);n.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",(o=>{if(o)return e(o);n.open(t,"r+",((o,i)=>{if(o)return e(o);n.futimes(i,r,r,(r=>{if(r)return e(r);n.close(i,(r=>{if(r)return e(r);n.stat(t,((t,r)=>{if(t)return e(t);e(null,r.mtime>1435410243e3)}))}))}))}))}))},hasMillisResSync:function(){let e=i.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=i.join(o.tmpdir(),e);const t=new Date(1435410243862);n.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const r=n.openSync(e,"r+");return n.futimesSync(r,t,t),n.closeSync(r),n.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,r,o){n.open(e,"r+",((e,i)=>{if(e)return o(e);n.futimes(i,t,r,(e=>{n.close(i,(t=>{o&&o(e||t)}))}))}))}}},6458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},77:(e,t,r)=>{var n,o,i=r(7147),s=r(2161),a=r(8520),c=r(6458),u=r(3837);function l(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),o=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",o="___graceful-fs.previous");var p,h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!i[n]){var f=global[n]||[];l(i,f),i.close=function(e){function t(t,r){return e.call(i,t,(function(e){e||m(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,o,{value:e}),t}(i.close),i.closeSync=function(e){function t(t){e.apply(i,arguments),m()}return Object.defineProperty(t,o,{value:e}),t}(i.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(i[n]),r(9491).equal(i[n].length,0)}))}function d(e){s(e),e.gracefulify=d,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,o,i){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof o&&o.apply(this,arguments):v([e,[r,n,o],t,i||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,o){return"function"==typeof n&&(o=n,n=null),function e(t,n,o,i,s){return r(t,n,o,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof i&&i.apply(this,arguments):v([e,[t,n,o,i],r,s||Date.now(),Date.now()])}))}(e,t,n,o)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,o){return"function"==typeof r&&(o=r,r=null),function e(t,r,o,i,s){return n(t,r,o,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof i&&i.apply(this,arguments):v([e,[t,r,o,i],n,s||Date.now(),Date.now()])}))}(e,t,r,o)});var o=e.copyFile;o&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,i,s){return o(t,r,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):v([e,[t,r,n,i],o,s||Date.now(),Date.now()])}))}(e,t,r,n)});var i=e.readdir;if(e.readdir=function(e,t,r){return"function"==typeof t&&(r=t,t=null),function e(t,r,n,o){return i(t,r,(function(i,s){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,i,s)):v([e,[t,r,n],i,o||Date.now(),Date.now()])}))}(e,t,r)},"v0.8"===process.version.substr(0,4)){var c=a(e);f=c.ReadStream,m=c.WriteStream}var u=e.ReadStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var e=this;_(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var l=e.WriteStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;_(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var p=f;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var h=m;function f(e,t){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var y=e.open;function _(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,o,i){return y(t,r,n,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof o&&o.apply(this,arguments):v([e,[t,r,n,o],s,i||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=_,e}function v(e){h("ENQUEUE",e[0].name,e[1]),i[n].push(e),y()}function m(){for(var e=Date.now(),t=0;t<i[n].length;++t)i[n][t].length>2&&(i[n][t][3]=e,i[n][t][4]=e);y()}function y(){if(clearTimeout(p),p=void 0,0!==i[n].length){var e=i[n].shift(),t=e[0],r=e[1],o=e[2],s=e[3],a=e[4];if(void 0===s)h("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){h("TIMEOUT",t.name,r);var c=r.pop();"function"==typeof c&&c.call(null,o)}else{var u=Date.now()-a,l=Math.max(a-s,1);u>=Math.min(1.2*l,100)?(h("RETRY",t.name,r),t.apply(null,r.concat([s]))):i[n].push(e)}void 0===p&&(p=setTimeout(y,0))}}global[n]||l(global,i[n]),e.exports=d(c(i)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!i.__patched&&(e.exports=d(i),i.__patched=!0)},8520:(e,t,r)=>{var n=r(2781).Stream;e.exports=function(e){return{ReadStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this);var i=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s=Object.keys(o),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=o[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()})):process.nextTick((function(){i._read()}))},WriteStream:function t(r,o){if(!(this instanceof t))return new t(r,o);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var i=Object.keys(o),s=0,a=i.length;s<a;s++){var c=i[s];this[c]=o[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2161:(e,t,r)=>{var n=r(2057),o=process.cwd,i=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return i||(i=o.call(process)),i};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){i=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){var t,r;function o(t){return t?function(r,n,o){return t.call(e,r,n,(function(e){p(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function i(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!p(e))throw e}}:t}function a(t){return t?function(r,n,o,i){return t.call(e,r,n,o,(function(e){p(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function c(t){return t?function(r,n,o){try{return t.call(e,r,n,o)}catch(e){if(!p(e))throw e}}:t}function u(t){return t?function(r,n,o){function i(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof n&&(o=n,n=null),n?t.call(e,r,n,i):t.call(e,r,i)}:t}function l(t){return t?function(r,n){var o=n?t.call(e,r,n):t.call(e,r);return o&&(o.uid<0&&(o.uid+=4294967296),o.gid<0&&(o.gid+=4294967296)),o}:t}function p(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,o){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?o&&o(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,r){var o,i=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),s=!0;try{o=e.fchmodSync(i,r),s=!1}finally{if(s)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return o}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,r,o,i){e.open(t,n.O_SYMLINK,(function(t,n){t?i&&i(t):e.futimes(n,r,o,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lutimesSync=function(t,r,o){var i,s=e.openSync(t,n.O_SYMLINK),a=!0;try{i=e.futimesSync(s,r,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}):(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=o(e.chmod),e.fchmod=o(e.fchmod),e.lchmod=o(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===s&&(e.rename=(t=e.rename,function(r,n,o){var i=Date.now(),s=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-i<6e4)return setTimeout((function(){e.stat(n,(function(e,i){e&&"ENOENT"===e.code?t(r,n,a):o(c)}))}),s),void(s<100&&(s+=10));o&&o(c)}))})),e.read=function(t){function r(r,n,o,i,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,p,h){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,r,n,o,i,s,c);a.apply(this,arguments)}}return t.call(e,r,n,o,i,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync=(r=e.readSync,function(t,n,o,i,s){for(var a=0;;)try{return r.call(e,t,n,o,i,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})}},6813:(e,t,r)=>{var n;try{n=r(77)}catch(e){n=r(7147)}function o(e,t){var r,n="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(r=t.spaces),t.EOL&&(n=t.EOL)),JSON.stringify(e,t?t.replacer:null,r).replace(/\n/g,n)+n}function i(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,r){null==r&&(r=t,t={}),"string"==typeof t&&(t={encoding:t});var o=(t=t||{}).fs||n,s=!0;"throws"in t&&(s=t.throws),o.readFile(e,t,(function(n,o){if(n)return r(n);var a;o=i(o);try{a=JSON.parse(o,t?t.reviver:null)}catch(t){return s?(t.message=e+": "+t.message,r(t)):r(null,null)}r(null,a)}))},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var r=t.fs||n,o=!0;"throws"in t&&(o=t.throws);try{var s=r.readFileSync(e,t);return s=i(s),JSON.parse(s,t.reviver)}catch(t){if(o)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,r,i){null==i&&(i=r,r={});var s=(r=r||{}).fs||n,a="";try{a=o(t,r)}catch(e){return void(i&&i(e,null))}s.writeFile(e,a,r,i)},writeFileSync:function(e,t,r){var i=(r=r||{}).fs||n,s=o(t,r);return i.writeFileSync(e,s,r)}};e.exports=s},9593:(e,t,r)=>{"use strict";const n=r(4411),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),p=Symbol("lruList"),h=Symbol("cache"),f=Symbol("updateAgeOnGet"),d=()=>1,v=(e,t,r)=>{const n=e[h].get(t);if(n){const t=n.value;if(m(e,t)){if(_(e,n),!e[a])return}else r&&(e[f]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},y=e=>{if(e[i]>e[o])for(let t=e[p].tail;e[i]>e[o]&&null!==t;){const r=t.prev;_(e,t),t=r}},_=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[i]-=r.length,e[h].delete(r.key),e[p].removeNode(t)}};class E{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const g=(e,t,r,n)=>{let o=r.value;m(e,o)&&(_(e,r),e[a]||(o=void 0)),o&&t.call(n,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||d;if(this[s]="function"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,y(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,y(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[i]=0,this[p].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),y(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[p].length}rforEach(e,t){t=t||this;for(let r=this[p].tail;null!==r;){const n=r.prev;g(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[p].head;null!==r;){const n=r.next;g(this,e,r,t),r=n}}keys(){return this[p].toArray().map((e=>e.key))}values(){return this[p].toArray().map((e=>e.value))}reset(){this[u]&&this[p]&&this[p].length&&this[p].forEach((e=>this[u](e.key,e.value))),this[h]=new Map,this[p]=new n,this[i]=0}dump(){return this[p].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[p]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[h].has(e)){if(a>this[o])return _(this,this[h].get(e)),!1;const s=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),y(this),!0}const f=new E(e,t,a,n,r);return f.length>this[o]?(this[u]&&this[u](e,t),!1):(this[i]+=f.length,this[p].unshift(f),this[h].set(e,this[p].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!m(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[p].tail;return e?(_(this,e),e.value):null}del(e){_(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach(((e,t)=>v(this,t,!1)))}}},2257:(e,t,r)=>{const n=Symbol("SemVer ANY");class o{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new l(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new p(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new p(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||i&&s||a||u}}e.exports=o;const i=r(2893),{re:s,t:a}=r(5765),c=r(7539),u=r(4225),l=r(6376),p=r(6902)},6902:(e,t,r)=>{class n{constructor(e,t){if(t=i(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!d(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=o.get(t);if(r)return r;const n=this.options.loose,i=n?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(i,C(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[l.COMPARATORTRIM],p),a("comparator trim",e,u[l.COMPARATORTRIM]),e=(e=(e=e.replace(u[l.TILDETRIM],h)).replace(u[l.CARETTRIM],f)).split(/\s+/).join(" ");const c=n?u[l.COMPARATORLOOSE]:u[l.COMPARATOR],v=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>A(e,this.options))).filter(this.options.loose?e=>!!e.match(c):()=>!0).map((e=>new s(e,this.options))),m=(v.length,new Map);for(const e of v){if(d(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const _=[...m.values()];return o.set(t,_),_}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>m(r,t)&&e.set.some((e=>m(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(w(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const o=new(r(9593))({max:1e3}),i=r(2893),s=r(2257),a=r(4225),c=r(6376),{re:u,t:l,comparatorTrimReplace:p,tildeTrimReplace:h,caretTrimReplace:f}=r(5765),d=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,m=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},y=(e,t)=>(a("comp",e,t),e=T(e,t),a("caret",e),e=E(e,t),a("tildes",e),e=b(e,t),a("xrange",e),e=O(e,t),a("stars",e),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map((e=>g(e,t))).join(" "),g=(e,t)=>{const r=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(r,((t,r,n,o,i)=>{let s;return a("tilde",e,t,r,n,o,i),_(r)?s="":_(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:_(o)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:i?(a("replaceTilde pr",i),s=`>=${r}.${n}.${o}-${i} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,a("tilde return",s),s}))},T=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{a("caret",e,t);const r=t.loose?u[l.CARETLOOSE]:u[l.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,i,s)=>{let c;return a("caret",e,t,r,o,i,s),_(r)?c="":_(o)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:_(i)?c="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===r?"0"===o?`>=${r}.${o}.${i}-${s} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}-${s} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i}-${s} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===o?`>=${r}.${o}.${i}${n} <${r}.${o}.${+i+1}-0`:`>=${r}.${o}.${i}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${i} <${+r+1}.0.0-0`),a("caret return",c),c}))},b=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" ")),I=(e,t)=>{e=e.trim();const r=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(r,((r,n,o,i,s,c)=>{a("xRange",e,r,n,o,i,s,c);const u=_(o),l=u||_(i),p=l||_(s),h=p;return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(l&&(i=0),s=0,">"===n?(n=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",l?o=+o+1:i=+i+1),"<"===n&&(c="-0"),r=`${n+o}.${i}.${s}${c}`):l?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:p&&(r=`>=${o}.${i}.0${c} <${o}.${+i+1}.0-0`),a("xRange return",r),r}))},O=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[l.STAR],"")),A=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),C=e=>(t,r,n,o,i,s,a,c,u,l,p,h,f)=>`${r=_(n)?"":_(o)?`>=${n}.0.0${e?"-0":""}`:_(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=_(u)?"":_(l)?`<${+u+1}.0.0-0`:_(p)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${p}-${h}`:e?`<${u}.${l}.${+p+1}-0`:`<=${c}`}`.trim(),w=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,r)=>{const n=r(4225),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(3295),{re:s,t:a}=r(5765),c=r(2893),{compareIdentifiers:u}=r(6742);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},3507:(e,t,r)=>{const n=r(3959);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},7539:(e,t,r)=>{const n=r(8718),o=r(1194),i=r(1312),s=r(5903),a=r(1544),c=r(2056);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return o(e,r,u);case">":return i(e,r,u);case">=":return s(e,r,u);case"<":return a(e,r,u);case"<=":return c(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,r)=>{const n=r(6376),o=r(3959),{re:i,t:s}=r(5765);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=i[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),i[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[s.COERCERTL].lastIndex=-1}else r=e.match(i[s.COERCE]);return null===r?null:o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},8880:(e,t,r)=>{const n=r(6376);e.exports=(e,t,r)=>{const o=new n(e,r),i=new n(t,r);return o.compare(i)||o.compareBuild(i)}},7880:(e,t,r)=>{const n=r(6269);e.exports=(e,t)=>n(e,t,!0)},6269:(e,t,r)=>{const n=r(6376);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},2378:(e,t,r)=>{const n=r(3959),o=r(8718);e.exports=(e,t)=>{if(o(e,t))return null;{const r=n(e),o=n(t),i=r.prerelease.length||o.prerelease.length,s=i?"pre":"",a=i?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==o[e])return s+e;return a}}},8718:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>0===n(e,t,r)},1312:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)>0},5903:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)>=0},253:(e,t,r)=>{const n=r(6376);e.exports=(e,t,r,o)=>{"string"==typeof r&&(o=r,r=void 0);try{return new n(e,r).inc(t,o).version}catch(e){return null}}},1544:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)<0},2056:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(e,t,r)<=0},8679:(e,t,r)=>{const n=r(6376);e.exports=(e,t)=>new n(e,t).major},7789:(e,t,r)=>{const n=r(6376);e.exports=(e,t)=>new n(e,t).minor},1194:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>0!==n(e,t,r)},3959:(e,t,r)=>{const{MAX_LENGTH:n}=r(3295),{re:o,t:i}=r(5765),s=r(6376),a=r(2893);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?o[i.LOOSE]:o[i.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},2358:(e,t,r)=>{const n=r(6376);e.exports=(e,t)=>new n(e,t).patch},7559:(e,t,r)=>{const n=r(3959);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},9795:(e,t,r)=>{const n=r(6269);e.exports=(e,t,r)=>n(t,e,r)},3657:(e,t,r)=>{const n=r(8880);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},5712:(e,t,r)=>{const n=r(6902);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},1100:(e,t,r)=>{const n=r(8880);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},6397:(e,t,r)=>{const n=r(3959);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},1249:(e,t,r)=>{const n=r(5765);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(3295).SEMVER_SPEC_VERSION,SemVer:r(6376),compareIdentifiers:r(6742).compareIdentifiers,rcompareIdentifiers:r(6742).rcompareIdentifiers,parse:r(3959),valid:r(6397),clean:r(3507),inc:r(253),diff:r(2378),major:r(8679),minor:r(7789),patch:r(2358),prerelease:r(7559),compare:r(6269),rcompare:r(9795),compareLoose:r(7880),compareBuild:r(8880),sort:r(1100),rsort:r(3657),gt:r(1312),lt:r(1544),eq:r(8718),neq:r(1194),gte:r(5903),lte:r(2056),cmp:r(7539),coerce:r(9038),Comparator:r(2257),Range:r(6902),satisfies:r(5712),toComparators:r(1042),maxSatisfying:r(5775),minSatisfying:r(1657),minVersion:r(5316),validRange:r(9042),outside:r(6826),gtr:r(7606),ltr:r(32),intersects:r(2937),simplifyRange:r(7908),subset:r(799)}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},6742:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},2893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},5765:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(3295),o=r(4225),i=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,r)=>{const n=c++;o(n,t),a[e]=n,s[n]=t,i[n]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},7606:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,">",r)},2937:(e,t,r)=>{const n=r(6902);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},32:(e,t,r)=>{const n=r(6826);e.exports=(e,t,r)=>n(e,t,"<",r)},5775:(e,t,r)=>{const n=r(6376),o=r(6902);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new n(i,r)))})),i}},1657:(e,t,r)=>{const n=r(6376),o=r(6902);e.exports=(e,t,r)=>{let i=null,s=null,a=null;try{a=new o(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new n(i,r)))})),i}},5316:(e,t,r)=>{const n=r(6376),o=r(6902),i=r(1312);e.exports=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||r&&!i(r,s)||(r=s)}return r&&e.test(r)?r:null}},6826:(e,t,r)=>{const n=r(6376),o=r(2257),{ANY:i}=o,s=r(6902),a=r(5712),c=r(1312),u=r(1544),l=r(2056),p=r(5903);e.exports=(e,t,r,h)=>{let f,d,v,m,y;switch(e=new n(e,h),t=new s(t,h),r){case">":f=c,d=l,v=u,m=">",y=">=";break;case"<":f=u,d=p,v=c,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null,a=null;if(n.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,f(e.semver,s.semver,h)?s=e:v(e.semver,a.semver,h)&&(a=e)})),s.operator===m||s.operator===y)return!1;if((!a.operator||a.operator===m)&&d(e,a.semver))return!1;if(a.operator===y&&v(e,a.semver))return!1}return!0}},7908:(e,t,r)=>{const n=r(5712),o=r(6269);e.exports=(e,t,r)=>{const i=[];let s=null,a=null;const c=e.sort(((e,t)=>o(e,t,r)));for(const e of c)n(e,t,r)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),p="string"==typeof t.raw?t.raw:String(t);return l.length<p.length?l:t}},799:(e,t,r)=>{const n=r(6902),o=r(2257),{ANY:i}=o,s=r(5712),a=r(6269),c=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=r.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===t.length&&t[0].semver===i){if(r.includePrerelease)return!0;t=[new o(">=0.0.0")]}const n=new Set;let c,p,h,f,d,v,m;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,r):"<"===t.operator||"<="===t.operator?p=l(p,t,r):n.add(t.semver);if(n.size>1)return null;if(c&&p){if(h=a(c.semver,p.semver,r),h>0)return null;if(0===h&&(">="!==c.operator||"<="!==p.operator))return null}for(const e of n){if(c&&!s(e,String(c),r))return null;if(p&&!s(e,String(p),r))return null;for(const n of t)if(!s(e,String(n),r))return!1;return!0}let y=!(!p||r.includePrerelease||!p.semver.prerelease.length)&&p.semver,_=!(!c||r.includePrerelease||!c.semver.prerelease.length)&&c.semver;y&&1===y.prerelease.length&&"<"===p.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,v=v||"<"===e.operator||"<="===e.operator,c)if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),">"===e.operator||">="===e.operator){if(f=u(c,e,r),f===e&&f!==c)return!1}else if(">="===c.operator&&!s(c.semver,String(e),r))return!1;if(p)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(d=l(p,e,r),d===e&&d!==p)return!1}else if("<="===p.operator&&!s(p.semver,String(e),r))return!1;if(!e.operator&&(p||c)&&0!==h)return!1}return!(c&&v&&!p&&0!==h||p&&m&&!c&&0!==h||_||y)},u=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let o=!1;e:for(const n of e.set){for(const e of t.set){const t=c(n,e,r);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},1042:(e,t,r)=>{const n=r(6902);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,r)=>{const n=r(6902);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},6372:e=>{"use strict";function t(e){return"function"==typeof e}var r=console.error.bind(console);function n(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function o(e){e&&e.logger&&(t(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function i(e,o,i){if(e&&e[o]){if(!i)return r("no wrapper function"),void r((new Error).stack);if(t(e[o])&&t(i)){var s=e[o],a=i(s,o);return n(a,"__original",s),n(a,"__unwrap",(function(){e[o]===a&&n(e,o,s)})),n(a,"__wrapped",!0),n(e,o,a),a}r("original object and wrapper must be functions")}else r("no original function "+o+" to wrap")}function s(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=i,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){i(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=s,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t)}))})):r("must provide one or more functions to unwrap on modules")},e.exports=o},465:e=>{e.exports=function(e,t){var r=[];r.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var n=0;n<t.length;n++){var o,i=t[n];try{o=i.toString()}catch(e){try{o="<error: "+e+">"}catch(e){o="<error>"}}r.push("    at "+o)}return r.join("\n")}},2512:(e,t,r)=>{if(global._stackChain){if(global._stackChain.version!==r(2301).i8)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=r(7898)},7898:(e,t,r)=>{var n=r(465);function o(){this.extend=new a,this.filter=new a,this.format=new c,this.version=r(2301).i8}var i=!1;o.prototype.callSite=function e(t){t||(t={}),i=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return i=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n};var s=new o;function a(){this._modifiers=[]}function c(){this._formater=n,this._previous=void 0}a.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=n,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var u=!1;function l(e,t){if(i)return t;if(u)return n(e,t);var r=t.concat();r=s.extend._modify(e,r),r=(r=s.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),u=!0;var o=s.format._formater(e,r);return u=!1,o}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},7911:(e,t)=>{function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},o=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var i=n.stack;return Error.prepareStackTrace=o,Error.stackTraceLimit=r,i},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,o=null,i=null,s=null,a=null,c="native"===r[5];if(r[1]){var u=(i=r[1]).lastIndexOf(".");if("."==i[u-1]&&u--,u>0){n=i.substr(0,u),o=i.substr(u+1);var l=n.indexOf(".Module");l>0&&(i=i.substr(l+1),n=n.substr(0,l))}s=null}o&&(s=n,a=o),"<anonymous>"===o&&(a=null,i=null);var p={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:i,typeName:s,methodName:a,columnNumber:parseInt(r[4],10)||null,native:c};return t._createParsedCallSite(p)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new r(e)}},8086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatherProvider=void 0;const n=r(3848),o=r(6828),i=r(1017),s=r(5674),a=r(5604),c=r(1382),u=r(3837),l=r(2696),p=r(9658);t.GatherProvider=class{constructor(e){this.language=e,this.linesSubmitted=0,this.cellsSubmitted=0,this.initPromise=this.init()}async getLogLength(){if(await this.initPromise,this._executionSlicer)return this._executionSlicer.executionLog.length}async logExecution(e){var t;try{if(e){let t="";try{t=e.document?e.document.getText():e.code;const r=t.split("\n").length;this.linesSubmitted+=r}catch(e){this.linesSubmitted=-1}this.cellsSubmitted+=1}if(await this.initPromise,1===(null===(t=e.executionSummary)||void 0===t?void 0:t.executionOrder)&&await this.resetLog(),e.document.languageId===a.Constants.PYTHON_LANGUAGE){const t=(0,c.convertVscToGatherCell)(e);t&&this._executionSlicer&&this._executionSlicer.logExecution(t)}}catch(t){throw(0,p.sendTelemetryEvent)(a.Telemetry.GatherException,void 0,{exceptionType:"log"}),o.window.showErrorMessage(l.Common.loggingError()+e.document.getText()),console.error(t),t}}async resetLog(){try{this.linesSubmitted=0,this.cellsSubmitted=0,await this.initPromise,this.language===a.Constants.PYTHON_LANGUAGE&&this._executionSlicer&&this._executionSlicer.reset()}catch(e){throw(0,p.sendTelemetryEvent)(a.Telemetry.GatherException,void 0,{exceptionType:"reset"}),o.window.showErrorMessage(l.Common.resetLog()),console.error(e),e}}async gatherCode(e,t=!1){o.window.withProgress({location:o.ProgressLocation.Notification,title:l.Common.gathering()},(async()=>{var r,n,i;this.gatherTimer=new c.StopWatch;const s=this.gatherCodeInternal(e);if(0!==s.length){if(o.workspace.getConfiguration().get(a.Constants.gatherToScriptSetting)||t){const t=(null===(r=e.notebook)||void 0===r?void 0:r.uri.toString())||"";await this.showFile(s,t),(0,p.sendTelemetryEvent)(a.Telemetry.GatherCompleted,null===(n=this.gatherTimer)||void 0===n?void 0:n.elapsedTime,{result:"script"})}else await this.showNotebook(s),(0,p.sendTelemetryEvent)(a.Telemetry.GatherCompleted,null===(i=this.gatherTimer)||void 0===i?void 0:i.elapsedTime,{result:"notebook"});(0,p.sendTelemetryEvent)(a.Telemetry.GatherStats,void 0,{linesSubmitted:this.linesSubmitted,cellsSubmitted:this.cellsSubmitted,linesGathered:(0,c.splitLines)(s.trim()).length,cellsGathered:(0,c.countCells)((0,c.splitLines)(s.trim()))})}else o.window.showInformationMessage(l.Common.analysisEmpty())}))}gatherCodeInternal(e){const t=o.workspace.getConfiguration(),r=t?t.get(a.Constants.defaultCellMarkerSetting):a.Constants.DefaultCodeCellMarker,n="\n";try{if(!this._executionSlicer)return o.window.showErrorMessage(l.Common.notAvailable()),"";const t=(0,c.convertVscToGatherCell)(e);if(!t)return o.window.showErrorMessage(l.Common.errorTranslatingCell()),"";const i=this._executionSlicer.sliceLatestExecution(t.persistentId);if(i){const e=i.cellSlices.reduce(c.concat,"").replace(/#%%/g,r).trim();return 0===e.length?(o.window.showErrorMessage(l.Common.gatherError()+"\n"+l.Common.PPAError()),""):e}return(0,p.sendTelemetryEvent)(a.Telemetry.GatherException,void 0,{exceptionType:"gather"}),r+n+l.Common.gatherError()+n+l.Common.couldNotAnalyze()}catch(e){return console.error(e),(0,p.sendTelemetryEvent)(a.Telemetry.GatherException,void 0,{exceptionType:"gather"}),r+n+l.Common.gatherError()+n+e}}async gatherWithoutKernel(e,t){try{await this.initPromise;for(let t=0;t<e.notebook.getCells().length;t++){const r=e.notebook.cellAt(t);if(await this.logExecution(r),r.index===e.index)break}await this.gatherCode(e,t)}catch(e){console.error(e)}finally{await this.resetLog()}}async init(){if(this.language===a.Constants.PYTHON_LANGUAGE)try{if(n){const e=o.workspace.getConfiguration();let t;if(e&&(t=e.get(a.Constants.gatherSpecPathSetting)),t&&t.length>0&&await(0,c.pathExists)(t)){const e=s.readdirSync(t);let r=[];e.forEach((e=>r.push(s.readFileSync(i.resolve(t,e)).toString()))),n.addSpecFolder(r)}else console.log(l.Common.specFolderNotfound()+"\n"+t);n.getSpecs()?(this.dataflowAnalyzer=new n.DataflowAnalyzer,this._executionSlicer=new n.ExecutionLogSlicer(this.dataflowAnalyzer)):console.error(l.Common.couldNotFindSpecs())}}catch(e){throw console.error(l.Common.couldNotActivateTools,u.format(e)),e}}async showFile(e,t){const r=o.workspace.getConfiguration(),n=r?r.get(a.Constants.defaultCellMarkerSetting):a.Constants.DefaultCodeCellMarker;if(e){const t=new RegExp(`^(${n}.*|\\s*)\n`,"gm");e=e.replace(t,"")}const i=(null===o.env||void 0===o.env?void 0:o.env.uiKind)===(null===o.UIKind||void 0===o.UIKind?void 0:o.UIKind.Web)?`${l.Common.gatheredScriptDescriptionWithoutSurvey()}${n}\n${e}`:`${l.Common.gatheredScriptDescription()}${n}\n${e}`;let s;const u=o.window.visibleTextEditors.filter((e=>(0,c.arePathsSame)(e.document.fileName,t))),p=o.window.visibleTextEditors.filter((e=>void 0!==e.viewColumn));s=o.window.visibleTextEditors.length>0&&u.length>0?u[0].viewColumn:o.window.visibleTextEditors.length>0&&p.length>0?p[0].viewColumn:o.ViewColumn.Beside;const h=await o.workspace.openTextDocument({language:a.Constants.PYTHON_LANGUAGE,content:i});await o.window.showTextDocument(h,s,!0)}async showNotebook(e){const t=(0,c.generateCellsFromString)(e).map((e=>new o.NotebookCellData(o.NotebookCellKind.Code,e.source.join("\r\n"),a.Constants.PYTHON_LANGUAGE)));let r=[new o.NotebookCellData(o.NotebookCellKind.Markup,o.env.uiKind===(null===o.UIKind||void 0===o.UIKind?void 0:o.UIKind.Web)?l.Common.gatheredNotebookDescriptionInMarkdownWithoutSurvey():l.Common.gatheredNotebookDescriptionInMarkdown(),"Markdown")];r.push(...t);const n=await o.workspace.openNotebookDocument("jupyter-notebook",new o.NotebookData(r));await o.window.showNotebookDocument(n,{viewColumn:1,preserveFocus:!0})}async smartSelect(e){o.window.withProgress({location:o.ProgressLocation.Notification,title:l.Common.smartSelecting()},(async()=>{try{const t=this.gatherCodeInternal(e);if(0===t.length)return void o.window.showErrorMessage(l.Common.gatherError()+"\n"+l.Common.PPAError());if(t.includes(l.Common.gatherError()))return void o.window.showErrorMessage(l.Common.couldNotAnalyze());let r=(0,c.generateCellsFromString)(t);if(o.window.activeNotebookEditor){const e=[];r.forEach((t=>{var r;const n=null===(r=o.window.activeNotebookEditor)||void 0===r?void 0:r.document.getCells().find((e=>{if(e.document.getText().includes(t.source.join("\n")))return e}));n&&e.push(new o.NotebookRange(n.index,n.index+1))})),o.window.showNotebookDocument(o.window.activeNotebookEditor.document,{selections:e})}return}catch(e){o.window.showErrorMessage(l.Common.gatherError()),console.error(e)}}))}async smartSelectWithoutKernel(e){try{await this.initPromise;for(let t=0;t<e.notebook.getCells().length;t++){const r=e.notebook.cellAt(t);if(await this.logExecution(r),r.index===e.index)break}await this.smartSelect(e)}catch(e){console.error(e)}finally{await this.resetLog()}}}},1382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCellsFromString=t.arePathsSame=t.countCells=t.splitLines=t.convertVscToGatherCell=t.concat=t.StopWatch=t.pathExists=void 0;const n=r(1171),o=r(6828),i=r(1017),s=r(6828),a=r(6206),c=r(5604);function u(e,t={removeEmptyEntries:!0,trim:!0}){let r=e.split(/\r?\n/g);return t&&t.trim&&(r=r.map((e=>e.trim()))),t&&t.removeEmptyEntries&&(r=r.filter((e=>e.length>0))),r}function l(e){return e=i.normalize(e),function(e=process.platform){return/^win/.test(e)?c.OSType.Windows:/^darwin/.test(e)?c.OSType.OSX:/^linux/.test(e)?c.OSType.Linux:c.OSType.Unknown}()===c.OSType.Windows?e.toUpperCase():e}t.pathExists=async function(e,t){let r;try{const t=s.Uri.file(e);r=await s.workspace.fs.stat(t)}catch(t){return(0,a.error)(`stat() failed for "${e}"`,t),!1}return void 0===t||(t===s.FileType.Unknown?r.type===s.FileType.Unknown:(r.type&t)===t)},t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}},t.concat=function(e,t){return`${e}#%%\n${t.textSliceLines}\n`},t.convertVscToGatherCell=function(e){var t,r,o;let i="";try{i=e.document?e.document.getText():e.code}catch(e){return}return{text:i,executionCount:null!==(r=null===(t=e.executionSummary)||void 0===t?void 0:t.executionOrder)&&void 0!==r?r:null,executionEventId:n(),persistentId:e.document.uri.fragment,hasError:!1===(null===(o=e.executionSummary)||void 0===o?void 0:o.success)}},t.splitLines=u,t.countCells=function(e){let t=0;const r=o.workspace.getConfiguration(),n=r?r.get(c.Constants.defaultCellMarkerSetting):c.Constants.DefaultCodeCellMarker;return e.forEach((e=>{0===e.indexOf(n)&&t++})),t},t.arePathsSame=function(e,t){return(e=l(e))===l(t)},t.generateCellsFromString=function(e){const t=[],r=u(e,{trim:!1,removeEmptyEntries:!0}),n=o.workspace.getConfiguration(),i=n?n.get(c.Constants.defaultCellMarkerSetting):c.Constants.DefaultCodeCellMarker;let s=[];for(let e=0;e<r.length;e++)if(0===r[e].indexOf(i))for(let n=e+1;n<r.length;n++){if(0===r[n].indexOf(i)){t.push({source:s,type:"code"}),s=[],e=n-1;break}s.push(r[n])}return t.push({source:s,type:"code"}),t}},2696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localize=t.Common=void 0;const n=r(1017),o=r(5674),i=r(5604);let s,a;var c;(c=t.Common||(t.Common={})).gatherError=p("Gather.error","Gather internal error"),c.PPAError=p("Gather.ppaError","Could not process the cell"),c.gatherTooltip=p("Gather.tooltip","Gather the code required to generate this cell"),c.couldNotAnalyze=p("Gather.couldNotAnalyze","Could not analyze this code"),c.analysisEmpty=p("Gather.analysisEmpty","Code analysis returned an empty script"),c.runCells=p("Gather.runCells","Please run cells before gathering."),c.reopenNotebooks=p("Gather.reopenNotebooks","If you just installed the extension, please close and reopen your notebooks before gathering."),c.gatheredScriptDescription=p("Gather.scriptDescription","# This file was generated by the Gather Extension.\n#\n#     The intent is that it contains only the code required to produce\n#     the same results as the cell originally selected for gathering.\n#     Please note that the Python analysis is quite conservative, so if\n#     it is unsure whether a line of code is necessary for execution, it\n#     will err on the side of including it.\n#\n# Please let us know if you are satisfied with what was gathered here:\n# https://aka.ms/gatherfeedback\n# Thanks\n\n"),c.gatheredNotebookDescriptionInMarkdown=p("Gather.notebookDescriptionInMarkdown","## Gathered Notebook\n\nThis notebook was generated by the Gather Extension. The intent is that it contains only the code and cells required to produce the same results as the cell originally selected for gathering. Please note that the Python analysis is quite conservative, so if it is unsure whether a line of code is necessary for execution, it will err on the side of including it.\n\n**Please let us know if you are satisfied with what was gathered [here](https://aka.ms/gatherfeedback).**\n\nThanks"),c.gatheredScriptDescriptionWithoutSurvey=p("Gather.scriptDescriptionWithoutSurvey","# This file was generated by the Gather Extension.\n#     The intent is that it contains only the code required to produce\n#     the same results as the cell originally selected for gathering.\n#     Please note that the Python analysis is quite conservative, so if\n#     it is unsure whether a line of code is necessary for execution, it\n#     will err on the side of including it.\n"),c.gatheredNotebookDescriptionInMarkdownWithoutSurvey=p("Gather.notebookDescriptionInMarkdownWithoutSurvey","## Gathered Notebook\n\nThis notebook was generated by the Gather Extension. The intent is that it contains only the code and cells required to produce the same results as the cell originally selected for gathering. Please note that the Python analysis is quite conservative, so if it is unsure whether a line of code is necessary for execution, it will err on the side of including it.\n\n"),c.loggingError=p("Gather.loggingError","Gather: Error logging execution on cell:\n"),c.resetLog=p("Gather.resetLog","Gather: Error resetting log"),c.notAvailable=p("Gather.notAvailable","Gather not available"),c.errorTranslatingCell=p("Gather.errorTranslatingCell","Gather not available"),c.specFolderNotfound=p("Gather.specFolderNotfound","Gather: additional spec folder not found."),c.couldNotFindSpecs=p("Gather.couldNotFindSpecs","Gather couldn't find any package specs."),c.couldNotActivateTools=p("Gather.couldNotActivateTools","Gathering tools couldn't be activated."),c.gathering=p("Gather.gathering","Gathering"),c.smartSelecting=p("Gather.smartSelecting","Selecting dependent cells"),c.activateError=p("Gather.activateError","Gather: Exception at Activate\nPlease reload VS Code");let u,l={};function p(e,t){return()=>function(e,t){s&&h()===u||function(){u=h();const e=n.join(i.Constants.EXTENSION_ROOT_DIR,`package.nls.${u}.json`);if(o.existsSync(e)){const t=o.readFileSync(e,"utf8");s=JSON.parse(t)}else s={};if(!a){const e=n.join(i.Constants.EXTENSION_ROOT_DIR,"package.nls.json");if(o.existsSync(e)){const t=o.readFileSync(e,"utf8");a=JSON.parse(t)}else a={}}}();let r=a;s&&s.hasOwnProperty(e)&&(r=s);let c=r[e];return!c&&t&&(c=t),l[e]=c,c}(e,t)}function h(){const e=process.env.VSCODE_NLS_CONFIG;return e?JSON.parse(e).locale:"en-us"}t.localize=p},9658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetryEvent=void 0;const n=r(7911),o=r(5604),i={};let s;function a(){return"1"===process.env.VSC_GATHER_UNIT_TEST}function c(e){let t="";for(const r of n.parse(e)){const e=r.getFileName();if(e){const n=r.getLineNumber(),o=r.getColumnNumber();t+=`\n\tat ${u(r)} ${e}:${n}:${o}`}else t+="\n\tat <anonymous>"}return t.trim().replace(/\\/g,"/")}function u(e){const t=[];return"string"==typeof e.getTypeName()&&e.getTypeName().length>0&&t.push(e.getTypeName()),"string"==typeof e.getMethodName()&&e.getMethodName().length>0&&t.push(e.getMethodName()),"string"==typeof e.getFunctionName()&&e.getFunctionName().length>0&&(2===t.length&&t.join(".")===e.getFunctionName()||t.push(e.getFunctionName())),t.join(".")}t.sendTelemetryEvent=function(e,t,n,u){if(a()||!function(){try{const e=r(6828),t=r(4398);return void 0!==e&&void 0!==t}catch(e){return!1}}())return;const l=function(){if(!a()&&s)return s;const e=o.Constants.GatherExtension,t=r(6828).extensions.getExtension(e).packageJSON.version,n=r(4398).default;return s=new n(e,t,"AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",!0)}(),p="number"==typeof t?{duration:t}:t||void 0;let h={},f=e;if(u)f="ERROR",h={originalEventName:e,stackTrace:c(u)},l.sendTelemetryErrorEvent(f,h,p,[]);else{if(n){const t=n;Object.getOwnPropertyNames(t).forEach((r=>{if(void 0!==t[r]&&null!==t[r])try{h[r]="string"==typeof t[r]?t[r]:"object"==typeof t[r]?"object":t[r].toString()}catch(t){console.error(`Failed to serialize ${r} for ${e}`,t)}}))}Object.assign(h,i),l.sendTelemetryEvent(f,h,p)}}},5604:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OSType=t.Telemetry=t.Constants=void 0;const n=r(1017);var o,i;!function(e){const t=n.basename(__dirname);e.EXTENSION_ROOT_DIR="client"===t?n.join(__dirname,"..",".."):n.join(__dirname,"..","..","..",".."),e.GatherExtension="ms-python.gather",e.DefaultCodeCellMarker="# %%",e.gatherNativeNotebookCommand="gather.gatherCodeNativeNotebook",e.smartSelectCommand="gather.smartSelect",e.gatherToScriptSetting="gather.gatherToScript",e.gatherSpecPathSetting="gather.gatherSpecPath",e.PYTHON_LANGUAGE="python",e.defaultCellMarkerSetting="jupyter.defaultCellMarker",e.hasCellsSelected="hasCellsSelected",e.setContextCommand="setContext"}(t.Constants||(t.Constants={})),(i=t.Telemetry||(t.Telemetry={})).GatherIsInstalled="DS_INTERNAL.GATHER_IS_INSTALLED",i.GatherCompleted="DATASCIENCE.GATHER_COMPLETED",i.GatherStats="DS_INTERNAL.GATHER_STATS",i.GatherException="DS_INTERNAL.GATHER_EXCEPTION",i.GatheredNotebookSaved="DATASCIENCE.GATHERED_NOTEBOOK_SAVED",i.GatherQualityReport="DS_INTERNAL.GATHER_QUALITY_REPORT",(o=t.OSType||(t.OSType={})).Unknown="Unknown",o.Windows="Windows",o.OSX="OSX",o.Linux="Linux"},8981:(e,t)=>{"use strict";t.E=function(e){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise(((t,r)=>{arguments[arguments.length]=(e,n)=>{if(e)return r(e);t(n)},arguments.length++,e.apply(this,arguments)}));e.apply(this,arguments)}),"name",{value:e.name})},t.p=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},5327:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},556:(e,t,r)=>{var n=r(6113);e.exports=function(){return n.randomBytes(16)}},1171:(e,t,r)=>{var n=r(556),o=r(5327);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},4398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var n=r(7147),o=r(2037),i=r(1017),s=r(6828),a=r(9574),c=function(){function e(e,t,r,o){var a=this;this.extensionId=e,this.extensionVersion=t,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!o;var c=process.env.VSCODE_LOGS||"";c&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(c=i.join(c,e+".txt"),this.logStream=n.createWriteStream(c,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(r),this.configListener=s.workspace.onDidChangeConfiguration((function(){return a.updateUserOptIn(r)}))}return e.prototype.updateUserOptIn=function(t){var r=s.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID);this.userOptIn!==r.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=r.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),s&&s.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=s.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=s.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},e.prototype.getCommonProperties=function(){var e=Object.create(null);if(e["common.os"]=o.platform(),e["common.platformversion"]=(o.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,s&&s.env){switch(e["common.vscodemachineid"]=s.env.machineId,e["common.vscodesessionid"]=s.env.sessionId,e["common.vscodeversion"]=s.version,s.env.uiKind){case s.UIKind.Web:e["common.uikind"]="web";break;case s.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(s.env.remoteName)}return e},e.prototype.cleanRemoteName=function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(r){0===e.indexOf(r+"+")&&(t=r)})),t},e.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||"other"!==this.cleanRemoteName(s.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==s.ExtensionKind.Workspace&&s.env.uiKind!==s.UIKind.Web},Object.defineProperty(e.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=s.extensions.getExtension(this.extensionId)),this._extension},enumerable:!0,configurable:!0}),e.prototype.cloneAndChange=function(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;var r={};for(var n in e)r[n]=t(e[n]);return r},e.prototype.anonymizeFilePaths=function(e,t){var r=[new RegExp(s.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var n=e;if(t){for(var o=[],i=0,a=r;i<a.length;i++)for(var c=a[i];;){var u=c.exec(e);if(!u)break;o.push([u.index,c.lastIndex])}var l=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,p=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,h=0;n="";for(var f=function(){var t=p.exec(e);if(!t)return"break";!l.test(t[0])&&o.every((function(e){var r=e[0],n=e[1];return t.index<r||t.index>=n}))&&(n+=e.substring(h,t.index)+"<REDACTED: user-file-path>",h=p.lastIndex)};"break"!==f(););h<e.length&&(n+=e.substr(h))}for(var d=0,v=r;d<v.length;d++)c=v[d],n=n.replace(c,"");return n},e.prototype.sendTelemetryEvent=function(e,t,r){var n=this;if(this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e){return n.anonymizeFilePaths(e,n.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.sendTelemetryErrorEvent=function(e,t,r,n){var o=this;if(this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e){return o.shouldSendErrorTelemetry()?o.anonymizeFilePaths(e,o.firstParty):void 0===n||-1!==n.indexOf(e)?"REDACTED":o.anonymizeFilePaths(e,o.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:i,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.sendTelemetryException=function(e,t,r){var n=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e){return n.anonymizeFilePaths(e,n.firstParty)}));this.appInsightsClient.trackException({exception:e,properties:o,measurements:r}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:r})+"\n")}},e.prototype.dispose=function(){var e=this;this.configListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),r=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([r,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=c},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)t.push(arguments[r]);return t}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,o=this.head;null!==o;)r.push(e.call(t,o.value,this)),o=o.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,o=this.tail;null!==o;)r.push(e.call(t,o.value,this)),o=o.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var i,a,c,u,l=[];for(n=0;o&&n<t;n++)l.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<r.length;n++)i=this,a=o,c=r[n],u=void 0,null===(u=a===i.head?new s(c,null,a,i):new s(c,a,a.next,i)).next&&(i.tail=u),null===u.prev&&(i.head=u),i.length++,o=u;return l},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(9602)(n)}catch(e){}},3848:e=>{"use strict";e.exports=require("@msrvida/python-program-analysis")},6828:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},852:e=>{"use strict";e.exports=require("async_hooks")},2081:e=>{"use strict";e.exports=require("child_process")},6206:e=>{"use strict";e.exports=require("console")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},8188:e=>{"use strict";e.exports=require("module")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},2781:e=>{"use strict";e.exports=require("stream")},9512:e=>{"use strict";e.exports=require("timers")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6157:e=>{"use strict";e.exports={i8:"1.7.6"}},130:e=>{"use strict";e.exports={i8:"0.2.0"}},2301:e=>{"use strict";e.exports={i8:"1.3.7"}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const t=r(6828),o=r(5604),i=r(8086),s=r(9658),a=r(2696),c=new WeakMap;e.activate=async function(){try{(0,s.sendTelemetryEvent)(o.Telemetry.GatherIsInstalled),t.commands.registerCommand(o.Constants.gatherNativeNotebookCommand,(async e=>{let t=c.get(e.notebook.uri),r="interactive"===e.notebook.notebookType;if(t)t.gatherCode(e,r);else{let n;try{n=e.document.languageId}catch(e){n=o.Constants.PYTHON_LANGUAGE}t=new i.GatherProvider(n),c.set(e.notebook.uri,t),t.gatherWithoutKernel(e,r)}})),t.commands.registerCommand(o.Constants.smartSelectCommand,(e=>{let t=c.get(e.notebook.uri);if(t)t.smartSelect(e);else{let r;try{r=e.document.languageId}catch(e){r=o.Constants.PYTHON_LANGUAGE}t=new i.GatherProvider(r),c.set(e.notebook.uri,t),t.smartSelectWithoutKernel(e)}})),t.window.onDidChangeNotebookEditorSelection((e=>{e.selections.length>0&&!e.selections[0].isEmpty?t.commands.executeCommand(o.Constants.setContextCommand,o.Constants.hasCellsSelected,!0):t.commands.executeCommand(o.Constants.setContextCommand,o.Constants.hasCellsSelected,!1)})),t.workspace.onDidCloseNotebookDocument((e=>{c.has(e.uri)&&c.delete(e.uri)})),t.notebooks.onDidChangeNotebookCellExecutionState((e=>{if(e.state===t.NotebookCellExecutionState.Idle&&e.cell.document.languageId===o.Constants.PYTHON_LANGUAGE){let t=c.get(e.cell.notebook.uri);t||(t=new i.GatherProvider(o.Constants.PYTHON_LANGUAGE),c.set(e.cell.notebook.uri,t)),t.logExecution(e.cell)}}))}catch(e){t.window.showErrorMessage(a.Common.activateError(),e),(0,s.sendTelemetryEvent)(o.Telemetry.GatherException,void 0,{exceptionType:"activate"}),console.error(e)}}})(),module.exports=n})();
//# sourceMappingURL=extension.js.map